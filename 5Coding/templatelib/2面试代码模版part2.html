<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>é¢è¯•æ¨¡ç‰ˆpart2 | whoway</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/images/photo.jpg">
    <link rel="manifest" href="/images/photo.jpg">
    <link rel="apple-touch-icon" href="/images/photo.jpg">
    <meta name="description" content="Personal Blog Website">
    <meta http-quiv="pragma" cotent="no-cache">
    <meta http-quiv="pragma" cotent="no-cache,must-revalidate">
    <meta http-quiv="expires" cotent="0">
    
    <link rel="preload" href="/assets/css/0.styles.a88dafb3.css" as="style"><link rel="preload" href="/assets/js/app.19fd5ef1.js" as="script"><link rel="preload" href="/assets/js/2.82e96f38.js" as="script"><link rel="preload" href="/assets/js/1.6e29662b.js" as="script"><link rel="preload" href="/assets/js/23.cb26fc0f.js" as="script"><link rel="prefetch" href="/assets/js/10.4125d26f.js"><link rel="prefetch" href="/assets/js/100.442e699b.js"><link rel="prefetch" href="/assets/js/101.e8477ad2.js"><link rel="prefetch" href="/assets/js/102.cd57d924.js"><link rel="prefetch" href="/assets/js/103.85a37cdf.js"><link rel="prefetch" href="/assets/js/104.4a4d1084.js"><link rel="prefetch" href="/assets/js/105.dc280445.js"><link rel="prefetch" href="/assets/js/106.b4a2a375.js"><link rel="prefetch" href="/assets/js/107.b19df920.js"><link rel="prefetch" href="/assets/js/108.6139b76c.js"><link rel="prefetch" href="/assets/js/109.9296b402.js"><link rel="prefetch" href="/assets/js/11.72ae73cf.js"><link rel="prefetch" href="/assets/js/110.10871dfc.js"><link rel="prefetch" href="/assets/js/111.58f94c4e.js"><link rel="prefetch" href="/assets/js/112.ded82414.js"><link rel="prefetch" href="/assets/js/113.11c96811.js"><link rel="prefetch" href="/assets/js/114.1c7d45b0.js"><link rel="prefetch" href="/assets/js/115.0545b224.js"><link rel="prefetch" href="/assets/js/116.46a6be05.js"><link rel="prefetch" href="/assets/js/117.7b143c89.js"><link rel="prefetch" href="/assets/js/118.7a8ec9a4.js"><link rel="prefetch" href="/assets/js/119.525cef5e.js"><link rel="prefetch" href="/assets/js/12.e97e2b38.js"><link rel="prefetch" href="/assets/js/120.e0b5d3bf.js"><link rel="prefetch" href="/assets/js/121.fe2dad47.js"><link rel="prefetch" href="/assets/js/122.d723b62c.js"><link rel="prefetch" href="/assets/js/123.83a57ee4.js"><link rel="prefetch" href="/assets/js/124.593594a6.js"><link rel="prefetch" href="/assets/js/125.d9b41b27.js"><link rel="prefetch" href="/assets/js/126.252a10fc.js"><link rel="prefetch" href="/assets/js/127.3be2f500.js"><link rel="prefetch" href="/assets/js/128.93447629.js"><link rel="prefetch" href="/assets/js/129.ebeccb40.js"><link rel="prefetch" href="/assets/js/13.a837e57b.js"><link rel="prefetch" href="/assets/js/130.a974dd12.js"><link rel="prefetch" href="/assets/js/131.3394103b.js"><link rel="prefetch" href="/assets/js/132.26e0df2e.js"><link rel="prefetch" href="/assets/js/133.0b85914a.js"><link rel="prefetch" href="/assets/js/134.d6685713.js"><link rel="prefetch" href="/assets/js/135.cc161ed5.js"><link rel="prefetch" href="/assets/js/136.766ac744.js"><link rel="prefetch" href="/assets/js/137.66660d03.js"><link rel="prefetch" href="/assets/js/138.9679de34.js"><link rel="prefetch" href="/assets/js/139.275fc698.js"><link rel="prefetch" href="/assets/js/14.db05e204.js"><link rel="prefetch" href="/assets/js/140.38a18f4b.js"><link rel="prefetch" href="/assets/js/141.ce58f2a3.js"><link rel="prefetch" href="/assets/js/142.579c0772.js"><link rel="prefetch" href="/assets/js/143.625d23e6.js"><link rel="prefetch" href="/assets/js/144.5e10409f.js"><link rel="prefetch" href="/assets/js/145.493291b1.js"><link rel="prefetch" href="/assets/js/146.17c89392.js"><link rel="prefetch" href="/assets/js/147.b57e9c52.js"><link rel="prefetch" href="/assets/js/148.78cde617.js"><link rel="prefetch" href="/assets/js/149.a502af70.js"><link rel="prefetch" href="/assets/js/15.df39777f.js"><link rel="prefetch" href="/assets/js/150.63db8346.js"><link rel="prefetch" href="/assets/js/151.2173e2e7.js"><link rel="prefetch" href="/assets/js/152.2d629cc4.js"><link rel="prefetch" href="/assets/js/153.502a328d.js"><link rel="prefetch" href="/assets/js/154.3e1926aa.js"><link rel="prefetch" href="/assets/js/155.0636a681.js"><link rel="prefetch" href="/assets/js/156.8a6f1ebe.js"><link rel="prefetch" href="/assets/js/157.d2a8a965.js"><link rel="prefetch" href="/assets/js/158.8ac3306e.js"><link rel="prefetch" href="/assets/js/159.e055a8d0.js"><link rel="prefetch" href="/assets/js/16.3e7c2e4a.js"><link rel="prefetch" href="/assets/js/160.371a361f.js"><link rel="prefetch" href="/assets/js/161.2efe17fc.js"><link rel="prefetch" href="/assets/js/162.6bbcbbff.js"><link rel="prefetch" href="/assets/js/163.37a48200.js"><link rel="prefetch" href="/assets/js/164.2d838bfb.js"><link rel="prefetch" href="/assets/js/165.c1b4d204.js"><link rel="prefetch" href="/assets/js/166.37d7a5da.js"><link rel="prefetch" href="/assets/js/167.780f4e8a.js"><link rel="prefetch" href="/assets/js/168.13d6b083.js"><link rel="prefetch" href="/assets/js/169.4b1aa290.js"><link rel="prefetch" href="/assets/js/17.13f9f737.js"><link rel="prefetch" href="/assets/js/170.4cd0184a.js"><link rel="prefetch" href="/assets/js/171.6b07c9a4.js"><link rel="prefetch" href="/assets/js/172.6c697ba1.js"><link rel="prefetch" href="/assets/js/173.bdce2864.js"><link rel="prefetch" href="/assets/js/174.8032634d.js"><link rel="prefetch" href="/assets/js/175.d33b6240.js"><link rel="prefetch" href="/assets/js/176.0c208a2f.js"><link rel="prefetch" href="/assets/js/177.9de67074.js"><link rel="prefetch" href="/assets/js/178.4080814d.js"><link rel="prefetch" href="/assets/js/179.f6e967b4.js"><link rel="prefetch" href="/assets/js/18.3c3b6709.js"><link rel="prefetch" href="/assets/js/180.c5eddd0b.js"><link rel="prefetch" href="/assets/js/181.92ff4fe2.js"><link rel="prefetch" href="/assets/js/182.b70eb286.js"><link rel="prefetch" href="/assets/js/183.e1defe6b.js"><link rel="prefetch" href="/assets/js/184.36d9dd36.js"><link rel="prefetch" href="/assets/js/185.019af986.js"><link rel="prefetch" href="/assets/js/186.fcab1fa6.js"><link rel="prefetch" href="/assets/js/187.73b1acc5.js"><link rel="prefetch" href="/assets/js/188.4687ba55.js"><link rel="prefetch" href="/assets/js/189.11969005.js"><link rel="prefetch" href="/assets/js/19.2299b1be.js"><link rel="prefetch" href="/assets/js/190.36070d74.js"><link rel="prefetch" href="/assets/js/191.68aff6a7.js"><link rel="prefetch" href="/assets/js/192.b095a041.js"><link rel="prefetch" href="/assets/js/193.748e4741.js"><link rel="prefetch" href="/assets/js/194.15f17e59.js"><link rel="prefetch" href="/assets/js/195.3c783c3f.js"><link rel="prefetch" href="/assets/js/196.0794f81d.js"><link rel="prefetch" href="/assets/js/197.2ed93d9e.js"><link rel="prefetch" href="/assets/js/198.96fecbb8.js"><link rel="prefetch" href="/assets/js/199.6730c3ef.js"><link rel="prefetch" href="/assets/js/20.f9542a81.js"><link rel="prefetch" href="/assets/js/200.77513dbb.js"><link rel="prefetch" href="/assets/js/201.7b3a2883.js"><link rel="prefetch" href="/assets/js/202.fa63bc61.js"><link rel="prefetch" href="/assets/js/203.3d75280f.js"><link rel="prefetch" href="/assets/js/204.5256956c.js"><link rel="prefetch" href="/assets/js/205.55fbd2b0.js"><link rel="prefetch" href="/assets/js/206.3dcbd0db.js"><link rel="prefetch" href="/assets/js/207.0279f524.js"><link rel="prefetch" href="/assets/js/208.76a1b1e4.js"><link rel="prefetch" href="/assets/js/209.0d34367b.js"><link rel="prefetch" href="/assets/js/21.3aeaccd0.js"><link rel="prefetch" href="/assets/js/210.34ae4ebf.js"><link rel="prefetch" href="/assets/js/211.927b9a9a.js"><link rel="prefetch" href="/assets/js/212.04674f6d.js"><link rel="prefetch" href="/assets/js/213.af5c8a97.js"><link rel="prefetch" href="/assets/js/214.9eb288c9.js"><link rel="prefetch" href="/assets/js/215.35540374.js"><link rel="prefetch" href="/assets/js/216.7aa3f39a.js"><link rel="prefetch" href="/assets/js/217.9f03eb88.js"><link rel="prefetch" href="/assets/js/218.3202edd3.js"><link rel="prefetch" href="/assets/js/219.0e1b57a4.js"><link rel="prefetch" href="/assets/js/22.d3c40f77.js"><link rel="prefetch" href="/assets/js/220.a4ff506d.js"><link rel="prefetch" href="/assets/js/221.ce788053.js"><link rel="prefetch" href="/assets/js/222.03492588.js"><link rel="prefetch" href="/assets/js/223.ddb53555.js"><link rel="prefetch" href="/assets/js/224.8a2983dc.js"><link rel="prefetch" href="/assets/js/225.264b8d29.js"><link rel="prefetch" href="/assets/js/226.5ac964a0.js"><link rel="prefetch" href="/assets/js/227.dc1e85d1.js"><link rel="prefetch" href="/assets/js/228.96f0b395.js"><link rel="prefetch" href="/assets/js/229.f4283581.js"><link rel="prefetch" href="/assets/js/230.ff93981b.js"><link rel="prefetch" href="/assets/js/231.ae27a7a8.js"><link rel="prefetch" href="/assets/js/232.e32b9f90.js"><link rel="prefetch" href="/assets/js/233.fdb2c42f.js"><link rel="prefetch" href="/assets/js/234.ce4f9957.js"><link rel="prefetch" href="/assets/js/235.b4675bb3.js"><link rel="prefetch" href="/assets/js/236.2cce5658.js"><link rel="prefetch" href="/assets/js/237.0a4d13ae.js"><link rel="prefetch" href="/assets/js/238.0ff3aed6.js"><link rel="prefetch" href="/assets/js/239.264b97af.js"><link rel="prefetch" href="/assets/js/24.ad4a09fe.js"><link rel="prefetch" href="/assets/js/240.c24807d4.js"><link rel="prefetch" href="/assets/js/241.17758192.js"><link rel="prefetch" href="/assets/js/242.d03f4f96.js"><link rel="prefetch" href="/assets/js/243.a7dd7ff1.js"><link rel="prefetch" href="/assets/js/244.1b0a261c.js"><link rel="prefetch" href="/assets/js/245.50dedbe7.js"><link rel="prefetch" href="/assets/js/246.89acce1d.js"><link rel="prefetch" href="/assets/js/247.73c8a853.js"><link rel="prefetch" href="/assets/js/25.5570ebb6.js"><link rel="prefetch" href="/assets/js/26.a95f7f8b.js"><link rel="prefetch" href="/assets/js/27.f7494f1f.js"><link rel="prefetch" href="/assets/js/28.e162e0ed.js"><link rel="prefetch" href="/assets/js/29.c58cfc51.js"><link rel="prefetch" href="/assets/js/3.21405e5e.js"><link rel="prefetch" href="/assets/js/30.211d4847.js"><link rel="prefetch" href="/assets/js/31.2d1e7ba7.js"><link rel="prefetch" href="/assets/js/32.add4b5b0.js"><link rel="prefetch" href="/assets/js/33.14f76adb.js"><link rel="prefetch" href="/assets/js/34.6bd9d647.js"><link rel="prefetch" href="/assets/js/35.c9e2d3b8.js"><link rel="prefetch" href="/assets/js/36.298abfc6.js"><link rel="prefetch" href="/assets/js/37.27b5bd91.js"><link rel="prefetch" href="/assets/js/38.b557122e.js"><link rel="prefetch" href="/assets/js/39.5df6f441.js"><link rel="prefetch" href="/assets/js/4.0c822be5.js"><link rel="prefetch" href="/assets/js/40.94e5fd0a.js"><link rel="prefetch" href="/assets/js/41.84557a0b.js"><link rel="prefetch" href="/assets/js/42.59206b92.js"><link rel="prefetch" href="/assets/js/43.a3c01942.js"><link rel="prefetch" href="/assets/js/44.da5d7fba.js"><link rel="prefetch" href="/assets/js/45.d1f42d3c.js"><link rel="prefetch" href="/assets/js/46.9c2d814b.js"><link rel="prefetch" href="/assets/js/47.420ad5a7.js"><link rel="prefetch" href="/assets/js/48.89a9add5.js"><link rel="prefetch" href="/assets/js/49.3a140b3a.js"><link rel="prefetch" href="/assets/js/5.dabc057c.js"><link rel="prefetch" href="/assets/js/50.abf53b06.js"><link rel="prefetch" href="/assets/js/51.550faa15.js"><link rel="prefetch" href="/assets/js/52.4c02b872.js"><link rel="prefetch" href="/assets/js/53.5f129ed6.js"><link rel="prefetch" href="/assets/js/54.0c94f990.js"><link rel="prefetch" href="/assets/js/55.6545b6b6.js"><link rel="prefetch" href="/assets/js/56.2a7ad851.js"><link rel="prefetch" href="/assets/js/57.094e449c.js"><link rel="prefetch" href="/assets/js/58.445238dd.js"><link rel="prefetch" href="/assets/js/59.b17bca8b.js"><link rel="prefetch" href="/assets/js/6.9c63f7c1.js"><link rel="prefetch" href="/assets/js/60.7fc004f8.js"><link rel="prefetch" href="/assets/js/61.9fb2478f.js"><link rel="prefetch" href="/assets/js/62.2debfb43.js"><link rel="prefetch" href="/assets/js/63.58fdf77c.js"><link rel="prefetch" href="/assets/js/64.8217a7d2.js"><link rel="prefetch" href="/assets/js/65.9dc85131.js"><link rel="prefetch" href="/assets/js/66.59484eda.js"><link rel="prefetch" href="/assets/js/67.f07c80d0.js"><link rel="prefetch" href="/assets/js/68.80cf9893.js"><link rel="prefetch" href="/assets/js/69.3373b3fe.js"><link rel="prefetch" href="/assets/js/7.f0f3f996.js"><link rel="prefetch" href="/assets/js/70.7e6b8764.js"><link rel="prefetch" href="/assets/js/71.4a331c2e.js"><link rel="prefetch" href="/assets/js/72.9a62b8a8.js"><link rel="prefetch" href="/assets/js/73.af14b76f.js"><link rel="prefetch" href="/assets/js/74.e544cbd5.js"><link rel="prefetch" href="/assets/js/75.a738e3ab.js"><link rel="prefetch" href="/assets/js/76.10685154.js"><link rel="prefetch" href="/assets/js/77.e22947af.js"><link rel="prefetch" href="/assets/js/78.870cb46a.js"><link rel="prefetch" href="/assets/js/79.cf6e348f.js"><link rel="prefetch" href="/assets/js/80.2a21e5a4.js"><link rel="prefetch" href="/assets/js/81.03872ae2.js"><link rel="prefetch" href="/assets/js/82.c4c97962.js"><link rel="prefetch" href="/assets/js/83.41c6d463.js"><link rel="prefetch" href="/assets/js/84.d1b60af2.js"><link rel="prefetch" href="/assets/js/85.50a21654.js"><link rel="prefetch" href="/assets/js/86.fed3d86f.js"><link rel="prefetch" href="/assets/js/87.0b8526ca.js"><link rel="prefetch" href="/assets/js/88.3c9947a1.js"><link rel="prefetch" href="/assets/js/89.78802633.js"><link rel="prefetch" href="/assets/js/90.df50cd93.js"><link rel="prefetch" href="/assets/js/91.84df794e.js"><link rel="prefetch" href="/assets/js/92.c78b9106.js"><link rel="prefetch" href="/assets/js/93.881884a8.js"><link rel="prefetch" href="/assets/js/94.73e6568d.js"><link rel="prefetch" href="/assets/js/95.1dff6783.js"><link rel="prefetch" href="/assets/js/96.8cb67535.js"><link rel="prefetch" href="/assets/js/97.7fcc0840.js"><link rel="prefetch" href="/assets/js/98.5df2c457.js"><link rel="prefetch" href="/assets/js/99.94a157f6.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.857e8e87.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a88dafb3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">whoway</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/1Db/" class="nav-link">
  ğŸ’¾æ•°æ®åº“
</a></div><div class="nav-item"><a href="/2Net/" class="nav-link">
  ğŸ”—ç½‘ç»œ
</a></div><div class="nav-item"><a href="/3Language/" class="nav-link">
  è¯­è¨€
</a></div><div class="nav-item"><a href="/4Linux/" class="nav-link">
  Linux
</a></div><div class="nav-item"><a href="/5Coding/" class="nav-link router-link-active">
  Coding
</a></div><div class="nav-item"><a href="/6MacOS/" class="nav-link">
  MacOS
</a></div><div class="nav-item"><a href="/7Windows/" class="nav-link">
  Windows
</a></div><div class="nav-item"><a href="/8Engineer/" class="nav-link">
  ğŸ”–åŸºç¡€è½¯ä»¶
</a></div><div class="nav-item"><a href="/9Status/" class="nav-link">
  ç½‘ç«™åŠ¨æ€
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/1Db/" class="nav-link">
  ğŸ’¾æ•°æ®åº“
</a></div><div class="nav-item"><a href="/2Net/" class="nav-link">
  ğŸ”—ç½‘ç»œ
</a></div><div class="nav-item"><a href="/3Language/" class="nav-link">
  è¯­è¨€
</a></div><div class="nav-item"><a href="/4Linux/" class="nav-link">
  Linux
</a></div><div class="nav-item"><a href="/5Coding/" class="nav-link router-link-active">
  Coding
</a></div><div class="nav-item"><a href="/6MacOS/" class="nav-link">
  MacOS
</a></div><div class="nav-item"><a href="/7Windows/" class="nav-link">
  Windows
</a></div><div class="nav-item"><a href="/8Engineer/" class="nav-link">
  ğŸ”–åŸºç¡€è½¯ä»¶
</a></div><div class="nav-item"><a href="/9Status/" class="nav-link">
  ç½‘ç«™åŠ¨æ€
</a></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="é¢è¯•æ¨¡ç‰ˆpart2"><a href="#é¢è¯•æ¨¡ç‰ˆpart2" class="header-anchor">#</a> é¢è¯•æ¨¡ç‰ˆpart2</h1> <h2 id="ç›®å½•"><a href="#ç›®å½•" class="header-anchor">#</a> ç›®å½•</h2> <p></p><div class="table-of-contents"><ul><li><a href="#ç›®å½•">ç›®å½•</a></li><li><a href="#çº¦ç‘Ÿå¤«ç¯">çº¦ç‘Ÿå¤«ç¯</a></li><li><a href="#stlæå–å‡º-å…¨æ’åˆ—-ã€æ¨¡æ¿ã€">STLæå–å‡ºâ€œå…¨æ’åˆ—â€ã€æ¨¡æ¿ã€</a></li><li><a href="#æ±‰è¯ºå¡”-é€’å½’æ¨¡æ¿">æ±‰è¯ºå¡”-é€’å½’æ¨¡æ¿</a></li><li><a href="#æ ¼é›·ç çš„ç”±æ¥">æ ¼é›·ç çš„ç”±æ¥</a></li><li><a href="#æ•°å­—-æ‰¾è§„å¾‹é¢˜è§£">æ•°å­—-æ‰¾è§„å¾‹é¢˜è§£</a><ul><li><a href="#_1-å‰‘æŒ‡-offer-44-æ•°å­—åºåˆ—ä¸­æŸä¸€ä½çš„æ•°å­—-https-leetcode-cn-com-problems-shu-zi-xu-lie-zhong-mou-yi-wei-de-shu-zi-lcof">1.å‰‘æŒ‡ Offer 44. æ•°å­—åºåˆ—ä¸­æŸä¸€ä½çš„æ•°å­—</a></li><li><a href="#æ•°å­—è§„å¾‹">æ•°å­—è§„å¾‹ï¼</a></li></ul></li><li><a href="#lrué¢˜è§£çš„æ¨¡ç‰ˆâœ…">LRUé¢˜è§£çš„æ¨¡ç‰ˆâœ…</a><ul><li><a href="#_2-acä»£ç ">2.ACä»£ç </a></li><li><a href="#_3-é¢è¯•é—®-æ­£å‘è¿­ä»£å™¨å’Œåå‘è¿­ä»£å™¨çš„åŒºåˆ«">3.é¢è¯•é—®ï¼šæ­£å‘è¿­ä»£å™¨å’Œåå‘è¿­ä»£å™¨çš„åŒºåˆ«</a></li></ul></li><li><a href="#trie-å‰ç¼€æ ‘âœ…">Trie-å‰ç¼€æ ‘âœ…</a><ul><li><a href="#å­—å…¸æ ‘ç±»ä»£ç ">å­—å…¸æ ‘ç±»ä»£ç </a></li></ul></li><li><a href="#å¤§æ•°ç®—æ³•ã€æ¨¡æ¿ã€">å¤§æ•°ç®—æ³•ã€æ¨¡æ¿ã€</a><ul><li><a href="#_1-å¤§æ•°åŠ æ³•">1.å¤§æ•°åŠ æ³•</a></li><li><a href="#_2-å¤§æ•°ä¹˜æ³•â­ï¸">2.å¤§æ•°ä¹˜æ³•â­ï¸</a></li><li><a href="#_3-å¤§æ•°é˜¶ä¹˜">3.å¤§æ•°é˜¶ä¹˜</a></li></ul></li><li><a href="#ä½è¿ç®—-è§„å¾‹">ä½è¿ç®—-è§„å¾‹</a><ul><li><a href="#_1-äº¤æ¢">1.äº¤æ¢</a></li><li><a href="#_2-å¼‚æˆ–çš„æ€§è´¨">2.å¼‚æˆ–çš„æ€§è´¨</a></li></ul></li><li><a href="#ä»£ç å®ç°memcpyã€Œè…¾è®¯ã€">ä»£ç å®ç°memcpyã€Œè…¾è®¯ã€</a></li><li><a href="#ä»£ç å®ç°memmoveã€Œè…¾è®¯ã€">ä»£ç å®ç°memmoveã€Œè…¾è®¯ã€</a></li><li><a href="#ä»£ç å®ç°strcpy">ä»£ç å®ç°strcpy</a></li><li><a href="#ä»£ç å®ç°strlen">ä»£ç å®ç°strlen</a></li><li><a href="#ä»£ç å®ç°strcat">ä»£ç å®ç°strcat</a></li><li><a href="#ä»£ç å®ç°strcmpã€Œå­¦ä¹ ã€">ä»£ç å®ç°strcmpã€Œå­¦ä¹ ã€</a></li><li><a href="#å¦‚ä½•å®ç°ä¸€ä¸ª-çº¿ç¨‹å®‰å…¨-çš„shared-ptræ™ºèƒ½æŒ‡é’ˆ">å¦‚ä½•å®ç°ä¸€ä¸ªâ€çº¿ç¨‹å®‰å…¨â€œçš„shared_ptræ™ºèƒ½æŒ‡é’ˆï¼Ÿ</a><ul><li><a href="#æ—·è§†-å®ç°ä¸€ä¸ªç®€å•çš„æ™ºèƒ½æŒ‡é’ˆ">æ—·è§†-å®ç°ä¸€ä¸ªç®€å•çš„æ™ºèƒ½æŒ‡é’ˆ</a></li></ul></li><li><a href="#å®ç°ä¸€ä¸ªunique-ptr-å¹¶ä¸”è®²ä¸€ä¸‹å…¶raii">å®ç°ä¸€ä¸ªunique_ptrï¼Œå¹¶ä¸”è®²ä¸€ä¸‹å…¶RAII</a></li><li><a href="#å®ç°å•ä¾‹">å®ç°å•ä¾‹</a></li><li><a href="#kä¸ª1ç»„åè½¬é“¾è¡¨">kä¸ª1ç»„åè½¬é“¾è¡¨</a></li></ul></div><p></p> <p>[TOC]</p> <h2 id="çº¦ç‘Ÿå¤«ç¯"><a href="#çº¦ç‘Ÿå¤«ç¯" class="header-anchor">#</a> çº¦ç‘Ÿå¤«ç¯</h2> <ul><li><a href="https://leetcode-cn.com/problems/yuan-quan-zhong-zui-hou-sheng-xia-de-shu-zi-lcof/" target="_blank" rel="noopener noreferrer">å‰‘æŒ‡ Offer 62. åœ†åœˆä¸­æœ€åå‰©ä¸‹çš„æ•°å­—<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>å‚è€ƒ<a href="https://leetcode-cn.com/problems/yuan-quan-zhong-zui-hou-sheng-xia-de-shu-zi-lcof/solution/si-bu-he-xin-gong-shi-qing-song-nong-don-3vln/" target="_blank" rel="noopener noreferrer">åŸç†<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="stlæå–å‡º-å…¨æ’åˆ—-ã€æ¨¡æ¿ã€"><a href="#stlæå–å‡º-å…¨æ’åˆ—-ã€æ¨¡æ¿ã€" class="header-anchor">#</a> STLæå–å‡ºâ€œå…¨æ’åˆ—â€ã€æ¨¡æ¿ã€</h2> <ul><li><a href="https://leetcode-cn.com/problems/permutations/" target="_blank" rel="noopener noreferrer">46. å…¨æ’åˆ—<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ä¸å«é‡å¤æ•°å­—çš„æ•°ç»„</li> <li><a href="https://leetcode-cn.com/problems/permutations-ii/" target="_blank" rel="noopener noreferrer">47. å…¨æ’åˆ— II<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><strong>å¯åŒ…å«</strong>é‡å¤æ•°å­—çš„åºåˆ—</li></ul> <p><strong>1.ä¸å«é‡å¤æ•°å­—/å¯åŒ…å«é‡å¤æ•°å­—ã€å‡å¯ã€</strong></p> <ul><li><p><code>next_permutation</code>çš„æºä»£ç å®ç°</p></li> <li><p><font style="background:yellow;"><code>iter_swap()</code>å‡½æ•°å¯ä»¥ç›´æ¥ç”¨</font></p></li> <li><p>ä¸‹ä¸€ä¸ªæ’åˆ—çš„ç®—æ³•æ¨¡æ¿ï¼šã€Leftï¼ˆå‰è¾¹ï¼‰  Rightï¼ˆåè¾¹ï¼‰ ã€</p> <ul><li><code>next_permutation()</code>ä¼šå–å¾—<code>[Left,Right)</code>æ‰€æ ‡ç¤ºä¹‹åºåˆ—çš„ä¸‹ä¸€ä¸ªæ’åˆ—ç»„åˆã€‚</li> <li>å¦‚æœæ²¡æœ‰ä¸‹ä¸€ä¸ªæ’åˆ—ç»„åˆï¼Œä¾¿è¿”å›<code>false</code>ï¼Œå¦åˆ™è¿”å›<code>true</code></li> <li>ã€4æ­¥ä¼ã€
<ul><li>1.é¦–å…ˆï¼Œä»ã€æœ€å°¾ç«¯å¼€å§‹å¾€å‰ã€å¯»æ‰¾ä¸¤ä¸ªç›¸é‚»å…ƒç´ ï¼Œä»¤<strong>é è¿‘å·¦è¾¹çš„ç¬¬1å…ƒç´ </strong>ä¸ºLeftOneï¼Œ<strong>é è¿‘å·¦è¾¹çš„ç¬¬äºŒå…ƒç´ </strong>ä¸ºLeftTwoï¼Œä¸”æ»¡è¶³<font style="background:yellow;"><code>LeftOne&lt; LeftTwo</code></font></li> <li>2.<strong>æ‰¾åˆ°è¿™æ ·ä¸€ç»„ç›¸é‚»å…ƒç´ å</strong>ï¼Œå†ä»ã€æœ€å°¾ç«¯å¼€å§‹å¾€å‰ã€æ£€éªŒ,æ‰¾å‡º<strong>ç¬¬1ä¸ª</strong>å¤§äºLeftOneï¼ˆ<font style="background:yellow;"><code>LeftOne&lt;Temp</code></font>ï¼‰çš„å…ƒç´ ï¼Œä»¤ä¸ºTemp</li> <li>3.<code>iter_swap( LeftOne, Temp )</code></li> <li>4.å†å°†<strong>LeftTwoåŠå…¶ä¹‹å</strong>çš„æ‰€æœ‰å…ƒç´ <strong>é¢ å€’</strong>æ’åˆ—</li></ul></li></ul></li> <li><p>ä¸Š1ä¸ªæ’åˆ—çš„ç®—æ³•ã€<font style="background:yellow;">åŒºåˆ«ï¼šè§æ ‡è®°é»„è‰²èƒŒæ™¯çš„ä½ç½®</font></p> <ul><li><code>prev_permutation()</code>ä¼šå–å¾—<code>[Left,Right)</code>æ‰€æ ‡ç¤ºä¹‹åºåˆ—çš„ä¸Šä¸€ä¸ªæ’åˆ—ç»„åˆã€‚</li> <li>å¦‚æœæ²¡æœ‰ä¸Šä¸€ä¸ªæ’åˆ—ç»„åˆï¼Œä¾¿è¿”å›<code>false</code>ï¼Œå¦åˆ™è¿”å›<code>true</code></li> <li>ã€4æ­¥ä¼ã€
<ul><li>1.é¦–å…ˆï¼Œä»ã€æœ€å°¾ç«¯å¼€å§‹å¾€å‰ã€å¯»æ‰¾ä¸¤ä¸ªç›¸é‚»å…ƒç´ ï¼Œä»¤<strong>é è¿‘å·¦è¾¹çš„ç¬¬1å…ƒç´ </strong>ä¸ºLeftOneï¼Œ<strong>é è¿‘å·¦è¾¹çš„ç¬¬äºŒå…ƒç´ </strong>ä¸ºLeftTwoï¼Œä¸”æ»¡è¶³<font style="background:yellow;"><code>LeftOne&gt; LeftTwo</code></font></li> <li>2.<strong>æ‰¾åˆ°è¿™æ ·ä¸€ç»„ç›¸é‚»å…ƒç´ å</strong>ï¼Œå†ä»ã€æœ€å°¾ç«¯å¼€å§‹å¾€å‰ã€æ£€éªŒ,æ‰¾å‡º<strong>ç¬¬1ä¸ª</strong>å°äºLeftOneï¼ˆ<font style="background:yellow;"><code>LeftOne&gt;Temp</code></font>ï¼‰çš„å…ƒç´ ï¼Œä»¤ä¸ºTemp</li> <li>3.<code>iter_swap( LeftOne, Temp )</code></li> <li>4.å†å°†<strong>LeftTwoåŠå…¶ä¹‹å</strong>çš„æ‰€æœ‰å…ƒç´ <strong>é¢ å€’</strong>æ’åˆ—</li></ul></li></ul></li></ul> <h2 id="æ±‰è¯ºå¡”-é€’å½’æ¨¡æ¿"><a href="#æ±‰è¯ºå¡”-é€’å½’æ¨¡æ¿" class="header-anchor">#</a> æ±‰è¯ºå¡”-é€’å½’æ¨¡æ¿</h2> <ul><li><a href="https://leetcode.cn/problems/hanota-lcci/" target="_blank" rel="noopener noreferrer">é¢è¯•é¢˜ 08.06. æ±‰è¯ºå¡”é—®é¢˜<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token comment">//starté‡Œé¢çš„æœ€ä¸Šé¢nä¸ªå…ƒç´ ï¼Œå€ŸåŠ©heloæ†å­ï¼Œç§»åˆ°endæ†å­ä¸Š</span>
<span class="token keyword">void</span> <span class="token function">recursive</span><span class="token punctuation">(</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token operator">&amp;</span> start<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token operator">&amp;</span>help<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token operator">&amp;</span> end<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">//1==n, é€’å½’è¾¹ç•Œ</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token number">1</span><span class="token operator">==</span>n <span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        end<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span> start<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        start<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//2==nï¼Œè™šæ‹Ÿçš„n=2çš„ç»‘å®šé€’å½’</span>

    <span class="token function">recursive</span><span class="token punctuation">(</span> start<span class="token punctuation">,</span> n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> end<span class="token punctuation">,</span> help<span class="token punctuation">)</span><span class="token punctuation">;</span>

    end<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span> start<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    start<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">recursive</span><span class="token punctuation">(</span> help<span class="token punctuation">,</span> n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> start<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">void</span> <span class="token function">hanota</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> A<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> B<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> C<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> n<span class="token operator">=</span>A<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">recursive</span><span class="token punctuation">(</span> A<span class="token punctuation">,</span> n<span class="token punctuation">,</span> B<span class="token punctuation">,</span> C<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h2 id="æ ¼é›·ç çš„ç”±æ¥"><a href="#æ ¼é›·ç çš„ç”±æ¥" class="header-anchor">#</a> æ ¼é›·ç çš„ç”±æ¥</h2> <ul><li>LeetCode<a href="https://leetcode-cn.com/problems/gray-code/" target="_blank" rel="noopener noreferrer">89. æ ¼é›·ç¼–ç <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://leetcode-cn.com/problems/gray-code/solution/c5xing-dai-ma-xiang-xi-jie-xi-dui-xin-sh-xrkw/" target="_blank" rel="noopener noreferrer">ç”±æ¥<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€Œæ•°å­¦ã€</li></ul> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">grayCode</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> res<span class="token punctuation">;</span>
        <span class="token keyword">int</span> count<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span>n<span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> loop<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> loop<span class="token operator">&lt;</span>count<span class="token punctuation">;</span> <span class="token operator">++</span>loop<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span> loop<span class="token operator">^</span><span class="token punctuation">(</span> loop<span class="token operator">&gt;&gt;</span><span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="æ•°å­—-æ‰¾è§„å¾‹é¢˜è§£"><a href="#æ•°å­—-æ‰¾è§„å¾‹é¢˜è§£" class="header-anchor">#</a> æ•°å­—-æ‰¾è§„å¾‹é¢˜è§£</h2> <h3 id="_1-å‰‘æŒ‡-offer-44-æ•°å­—åºåˆ—ä¸­æŸä¸€ä½çš„æ•°å­—"><a href="#_1-å‰‘æŒ‡-offer-44-æ•°å­—åºåˆ—ä¸­æŸä¸€ä½çš„æ•°å­—" class="header-anchor">#</a> 1.<a href="https://leetcode-cn.com/problems/shu-zi-xu-lie-zhong-mou-yi-wei-de-shu-zi-lcof/" target="_blank" rel="noopener noreferrer">å‰‘æŒ‡ Offer 44. æ•°å­—åºåˆ—ä¸­æŸä¸€ä½çš„æ•°å­—<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <ul><li><a href="https://leetcode-cn.com/problems/shu-zi-xu-lie-zhong-mou-yi-wei-de-shu-zi-lcof/" target="_blank" rel="noopener noreferrer">å‰‘æŒ‡ Offer 44. æ•°å­—åºåˆ—ä¸­æŸä¸€ä½çš„æ•°å­—<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://leetcode-cn.com/problems/nth-digit/" target="_blank" rel="noopener noreferrer">400. ç¬¬ N ä½æ•°å­—<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h3 id="æ•°å­—è§„å¾‹"><a href="#æ•°å­—è§„å¾‹" class="header-anchor">#</a> æ•°å­—è§„å¾‹ï¼</h3> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">int</span> <span class="token function">findNthDigit</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token number">0</span><span class="token operator">==</span>n <span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token comment">/*è§„å¾‹
            1-9ï¼ˆæ€»å…±9-1+1=9ï¼‰
            10-99ï¼ˆæ€»å…±99-10+1=90ï¼‰
            1000-999ï¼ˆæ€»å…±999-1000+1=900ï¼‰
            ...
        */</span>
        <span class="token keyword">int</span> Left<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>             <span class="token comment">//ç›®å‰ï¼Œå¼€å§‹çš„æ•°å­—ä½ç½®</span>
        <span class="token keyword">long</span> <span class="token keyword">long</span> count<span class="token operator">=</span><span class="token number">9</span><span class="token punctuation">;</span>            <span class="token comment">//è‡³ä»Šæ•°ä½ä¸ªæ•°</span>
        <span class="token keyword">long</span> <span class="token keyword">long</span> cur_digit_length<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//å½“å‰å…ƒç´ çš„æ•°ä½</span>

        <span class="token keyword">int</span> res<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span> n <span class="token operator">&gt;</span> count <span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            n<span class="token operator">-=</span>count<span class="token punctuation">;</span>
            cur_digit_length<span class="token operator">++</span><span class="token punctuation">;</span> 

            Left<span class="token operator">*=</span><span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//æ›´æ–°</span>
            count<span class="token operator">=</span> <span class="token number">9</span> <span class="token operator">*</span> Left <span class="token operator">*</span> cur_digit_length<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">long</span> <span class="token keyword">long</span> num<span class="token operator">=</span> Left<span class="token operator">+</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">/</span>cur_digit_length<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token function">to_string</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">[</span> <span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span>cur_digit_length <span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token char">'0'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h2 id="lrué¢˜è§£çš„æ¨¡ç‰ˆâœ…"><a href="#lrué¢˜è§£çš„æ¨¡ç‰ˆâœ…" class="header-anchor">#</a> LRUé¢˜è§£çš„æ¨¡ç‰ˆâœ…</h2> <ul><li>1ã€ç”¨STLçš„liståŒå‘é“¾è¡¨ï¼Œç²¾ç®€ä»£ç </li> <li>2ã€åæ€äº†ä¸€ä¸‹ï¼Œä»¥å‰ä¸ºä»€ä¹ˆC++è®¾è®¡çš„æ—¶å€™ï¼Œè¿­ä»£å™¨æœ‰äº†endè¿˜è¦rbegin</li> <li>3ã€è¿™ç±»è®¾è®¡æ•°æ®ç»“æ„çš„æ–¹å¼è®©æˆ‘ä»¬æ€è€ƒCè¯­è¨€çš„ä¸¥ç‰ˆçš„è®¾è®¡æ–¹å¼å’Œæˆ‘ä»¬C++é¢å‘å¯¹è±¡çš„è®¾è®¡æ–¹å¼çš„å¼‚åŒ</li> <li>C++è®¾è®¡æ•°æ®ç»“æ„ï¼Œæ„Ÿè§‰å°±æ˜¯æ¨å¹¿äº†Cè¯­è¨€æ•°æ®ç»“æ„çš„è®¾è®¡æ–¹å¼ï¼Œæ€ç»´æ–¹å¼å°±å¾ˆæƒ³thisæŒ‡é’ˆå¦‚ä½•ç”¨Cè¯­è¨€å®ç°ä¸€æ ·</li> <li>4ã€å“ˆå¸Œçš„æ—¶å€™ï¼Œé‚£ä¸ªkeyæˆ–è€…valï¼Œä½ å¯ä»¥å±•å¼€æ€è·¯ï¼æ¯”å¦‚åˆ°è¿­ä»£å™¨ï¼æ•°ç»„ï¼æ•°ç»„å¥—è¿­ä»£å™¨å•¥çš„ï¼</li></ul> <p>//è¦ä½¿ç”¨<code>unorder_map</code>,å®ƒåº•å±‚æ˜¯æ•£åˆ—ï¼Œåªä¼šæ˜ å°„è€Œä¸ç”¨æ’åº,èƒ½å¤Ÿå®ç°$O(1)$
//ä½“ç°äº†STLä¸­ä¸ºä»€ä¹ˆï¼Œæœ‰endè¿˜è¦æœ‰rbeginçš„åŸå› 
//å› ä¸ºendæŒ‡å‘çš„æ˜¯æŒ‡å‘æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè€Œrebginä½“ç°çš„å´æ˜¯<strong>å€’æ•°ç¬¬ä¸€ä¸ªå…ƒç´ çš„ä½ç½®</strong></p> <h3 id="_2-acä»£ç "><a href="#_2-acä»£ç " class="header-anchor">#</a> 2.ACä»£ç </h3> <ul><li><p><a href="https://leetcode-cn.com/problems/lru-cache/submissions/" target="_blank" rel="noopener noreferrer">1ã€LRUä¼ é€é—¨<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p><a href="https://leetcode-cn.com/problems/lru-cache-lcci/" target="_blank" rel="noopener noreferrer">2ã€LRUä¼ é€é—¨<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li></ul> <h4 id="getå€ŸåŠ©putç²¾ç®€ä»£ç çš„ç‰ˆæœ¬ã€è¿­ä»£å™¨çš„è½¬æ¢"><a href="#getå€ŸåŠ©putç²¾ç®€ä»£ç çš„ç‰ˆæœ¬ã€è¿­ä»£å™¨çš„è½¬æ¢" class="header-anchor">#</a> getå€ŸåŠ©putç²¾ç®€ä»£ç çš„ç‰ˆæœ¬ã€è¿­ä»£å™¨çš„è½¬æ¢</h4> <h4 id="âœ…è®°å¿†"><a href="#âœ…è®°å¿†" class="header-anchor">#</a> âœ…è®°å¿†</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>std::next<span class="token punctuation">(</span>it<span class="token punctuation">)</span>.base<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> //åå‘è¿­ä»£å™¨è½¬æ¢ä¸ºæ­£å‘è¿­ä»£å™¨ï¼
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">class</span> <span class="token class-name">LRUCache</span> <span class="token punctuation">{</span>
<span class="token keyword">private</span><span class="token operator">:</span>
    list<span class="token operator">&lt;</span> pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token operator">&gt;</span> m_list<span class="token punctuation">;</span> 										<span class="token comment">//key. val ä¸èƒ½ä»…valï¼Œå› ä¸ºæˆ‘putçš„æ—¶å€™è¦åˆ æ‰keyçš„map</span>
    map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> list<span class="token operator">&lt;</span> pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>iterator <span class="token operator">&gt;</span> m_mp<span class="token punctuation">;</span> 	<span class="token comment">//key-&gt;iterator</span>
    <span class="token keyword">int</span> m_capacity<span class="token punctuation">;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">LRUCache</span><span class="token punctuation">(</span><span class="token keyword">int</span> capacity<span class="token punctuation">)</span> <span class="token operator">:</span><span class="token function">m_capacity</span><span class="token punctuation">(</span>capacity<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">int</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span> m_mp<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token operator">!=</span> m_mp<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>

            <span class="token keyword">int</span> t_key<span class="token operator">=</span>key<span class="token punctuation">,</span> t_val<span class="token operator">=</span> m_mp<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token operator">-&gt;</span>second <span class="token punctuation">;</span>
            <span class="token function">put</span><span class="token punctuation">(</span> t_key<span class="token punctuation">,</span> t_val <span class="token punctuation">)</span><span class="token punctuation">;</span> 				<span class="token comment">//é‡æ–°æ”¾è¿›å»ï¼Œå€ŸåŠ©putç²¾ç®€ä»£ç </span>
            <span class="token keyword">return</span> t_val<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
        
    <span class="token punctuation">}</span>
    
    <span class="token keyword">void</span> <span class="token function">put</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">,</span> <span class="token keyword">int</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      
        <span class="token comment">//å¦‚æœå­˜åœ¨åŸæœ¬çš„keyï¼Œç®¡ä½ ä¸€æ ·è¿˜æ˜¯ä¸ä¸€æ ·</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span> m_mp<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token operator">!=</span> m_mp<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
            m_list<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span> m_mp<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> 		<span class="token comment">//æ¸…é™¤list</span>
            m_mp<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span> m_mp<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æ¸…é™¤map</span>
        <span class="token punctuation">}</span>

        <span class="token comment">//å¦‚æœä¸å­˜åœ¨ã€è½¬æ¢æˆçš„ä¸å­˜åœ¨</span>
        <span class="token comment">//å»é™¤ã€Œæœ€ä¹…æ²¡è®¿é—®çš„ã€</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span> m_list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">==</span>m_capacity <span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">//ä¸æ˜¯frontæ˜¯begin</span>
            list<span class="token operator">&lt;</span> pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>iterator it<span class="token operator">=</span> m_list<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            m_mp<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span> m_mp<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span> it<span class="token operator">-&gt;</span>first <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
            m_list<span class="token punctuation">.</span><span class="token function">pop_front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">//å°çš„</span>
        <span class="token comment">//ã€Œå‘ç‚¹ï¼åå‘è¿­ä»£å™¨å’Œæ­£å‘è¿­ä»£å™¨çš„è½¬æ¢ï¼ã€</span>
        <span class="token comment">//std::next(it) è¿”å›æŒ‡å‘åå‘è¿­ä»£å™¨çš„ä¸‹ä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨ï¼Œå†é€šè¿‡ std::next(it).base() å°†å…¶è½¬æ¢ä¸ºæ­£å‘è¿­ä»£å™¨ã€‚</span>
        <span class="token comment">//æ³¨æ„ï¼Œit å¿…é¡»æ˜¯ auto ç±»å‹ï¼Œå› ä¸ºå®ƒçš„ç±»å‹æ˜¯ä¸€ä¸ªåå‘è¿­ä»£å™¨ï¼Œæ— æ³•ç›´æ¥è½¬æ¢ä¸ºæ­£å‘è¿­ä»£å™¨</span>
        m_list<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span> <span class="token function">make_pair</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span>value<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
      
        <span class="token keyword">auto</span> it <span class="token operator">=</span> m_list<span class="token punctuation">.</span><span class="token function">rbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token comment">//å‘ç°ä¸‹é¢çš„è½¬æ¢ç»“æœæ˜¯ä¸€æ ·çš„</span>
      	<span class="token comment">//cout&lt;&lt;&quot;tempkey=&quot;&lt;&lt;it-&gt;first&lt;&lt;&quot; val=&quot;&lt;&lt;it-&gt;second&lt;&lt;endl;</span>
        <span class="token comment">//cout&lt;&lt;&quot;key=&quot;&lt;&lt;std::next(it).base()-&gt;first&lt;&lt;&quot; val=&quot;&lt;&lt;std::next(it).base()-&gt;second&lt;&lt;endl;</span>
        m_mp<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token operator">=</span>std<span class="token double-colon punctuation">::</span><span class="token function">next</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">base</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * Your LRUCache object will be instantiated and called as such:
 * LRUCache* obj = new LRUCache(capacity);
 * int param_1 = obj-&gt;get(key);
 * obj-&gt;put(key,value);
 */</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br></div></div><ul><li>ä¸Šé¢çš„ï¼Œå¯ä»¥ä¸ä½¿ç”¨è¿­ä»£å™¨è½¬æ¢ï¼Œä½†æ˜¯ä¼šè¶…æ—¶22/22</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>auto it <span class="token operator">=</span> m_list.begin<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
int <span class="token assign-left variable">loop</span><span class="token operator">=</span>m_list.size<span class="token punctuation">(</span><span class="token punctuation">)</span>-1<span class="token punctuation">;</span>
//è¶…æ—¶åŸå› åœ¨è¿™ï¼Œä½†æ˜¯æ²¡åŠæ³•ï¼å› ä¸ºit<span class="token operator">+=</span>loopä¸è¡Œï¼it<span class="token operator">=</span>it+loopä¹Ÿä¸è¡Œï¼
while<span class="token punctuation">(</span> loop-- <span class="token punctuation">)</span><span class="token punctuation">{</span>
it++<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="âœ…æœ€ç»ˆæ”¹å–„åçš„ä»£ç -æˆ‘ä»¬æŠŠæœ€ä¹…çš„æ”¾åœ¨listçš„æœ«å°¾è€Œä¸æ˜¯é¦–ä½-é¿å…è¿­ä»£å™¨è½¬æ¢"><a href="#âœ…æœ€ç»ˆæ”¹å–„åçš„ä»£ç -æˆ‘ä»¬æŠŠæœ€ä¹…çš„æ”¾åœ¨listçš„æœ«å°¾è€Œä¸æ˜¯é¦–ä½-é¿å…è¿­ä»£å™¨è½¬æ¢" class="header-anchor">#</a> âœ…æœ€ç»ˆæ”¹å–„åçš„ä»£ç ï¼æˆ‘ä»¬æŠŠæœ€ä¹…çš„æ”¾åœ¨listçš„æœ«å°¾è€Œä¸æ˜¯é¦–ä½-é¿å…è¿­ä»£å™¨è½¬æ¢</h4> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">class</span> <span class="token class-name">LRUCache</span> <span class="token punctuation">{</span>
<span class="token keyword">private</span><span class="token operator">:</span>
    list<span class="token operator">&lt;</span> pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token operator">&gt;</span> m_list<span class="token punctuation">;</span> <span class="token comment">//key. val ä¸èƒ½ä»…valï¼Œå› ä¸ºæˆ‘putçš„æ—¶å€™è¦åˆ æ‰keyçš„map</span>
    map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> list<span class="token operator">&lt;</span> pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>iterator <span class="token operator">&gt;</span> m_mp<span class="token punctuation">;</span> <span class="token comment">//key-&gt;iterator</span>
    <span class="token keyword">int</span> m_capacity<span class="token punctuation">;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">LRUCache</span><span class="token punctuation">(</span><span class="token keyword">int</span> capacity<span class="token punctuation">)</span> <span class="token operator">:</span><span class="token function">m_capacity</span><span class="token punctuation">(</span>capacity<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">int</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span> m_mp<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token operator">!=</span> m_mp<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>

            <span class="token keyword">int</span> t_key<span class="token operator">=</span>key<span class="token punctuation">,</span> t_val<span class="token operator">=</span> m_mp<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token operator">-&gt;</span>second <span class="token punctuation">;</span>
            <span class="token function">put</span><span class="token punctuation">(</span> t_key<span class="token punctuation">,</span> t_val <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//é‡æ–°æ”¾è¿›å»</span>
            <span class="token keyword">return</span> t_val<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
        
    <span class="token punctuation">}</span>
    
    <span class="token keyword">void</span> <span class="token function">put</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">,</span> <span class="token keyword">int</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//å¦‚æœå­˜åœ¨</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span> m_mp<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token operator">!=</span> m_mp<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
            m_list<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span> m_mp<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æ¸…é™¤list</span>
            m_mp<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span> m_mp<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æ¸…é™¤map</span>
        <span class="token punctuation">}</span>

        <span class="token comment">//å¦‚æœä¸å­˜åœ¨+è½¬æ¢æˆçš„ä¸å­˜åœ¨</span>
        <span class="token comment">//æ¯”è¾ƒå¤§äº† </span>
        <span class="token keyword">if</span><span class="token punctuation">(</span> m_list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">==</span>m_capacity <span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">//è¿™é‡Œæ”¹äº†æ–¹å‘</span>
            <span class="token keyword">auto</span> it<span class="token operator">=</span> m_list<span class="token punctuation">.</span><span class="token function">rbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//åå‘è¿­ä»£å™¨ï¼Œä½†æ˜¯è¿™é‡Œæ²¡äº‹ï¼å› ä¸ºæˆ‘åç»­åªéœ€è¦è·å¾—å¯¹åº”çš„å…ƒç´ </span>
            m_mp<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span> m_mp<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span> it<span class="token operator">-&gt;</span>first <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
            m_list<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        
        m_list<span class="token punctuation">.</span><span class="token function">push_front</span><span class="token punctuation">(</span> <span class="token function">make_pair</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span>value<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">auto</span> it <span class="token operator">=</span> m_list<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//æ­£å‘è¿­ä»£å™¨ï¼</span>
        m_mp<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token operator">=</span>it<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * Your LRUCache object will be instantiated and called as such:
 * LRUCache* obj = new LRUCache(capacity);
 * int param_1 = obj-&gt;get(key);
 * obj-&gt;put(key,value);
 */</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br></div></div><h3 id="_3-é¢è¯•é—®-æ­£å‘è¿­ä»£å™¨å’Œåå‘è¿­ä»£å™¨çš„åŒºåˆ«"><a href="#_3-é¢è¯•é—®-æ­£å‘è¿­ä»£å™¨å’Œåå‘è¿­ä»£å™¨çš„åŒºåˆ«" class="header-anchor">#</a> 3.é¢è¯•é—®ï¼šæ­£å‘è¿­ä»£å™¨å’Œåå‘è¿­ä»£å™¨çš„åŒºåˆ«</h3> <p>æ­£å‘è¿­ä»£å™¨å’Œåå‘è¿­ä»£å™¨éƒ½æ˜¯ç”¨äºè¿­ä»£å®¹å™¨ä¸­å…ƒç´ çš„å·¥å…·ï¼Œä½†å®ƒä»¬çš„æ–¹å‘ä¸åŒã€‚</p> <p>æ­£å‘è¿­ä»£å™¨æ˜¯ä¸€ç§é¡ºåºéå†å®¹å™¨å…ƒç´ çš„è¿­ä»£å™¨ï¼Œå®ƒæŒ‰ç…§å®¹å™¨ä¸­å…ƒç´ çš„é¡ºåºé€ä¸ªè¿­ä»£ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸€ä¸ªåˆ—è¡¨ä¸­ï¼Œæ­£å‘è¿­ä»£å™¨å°†æŒ‰ç…§åˆ—è¡¨ä»å·¦åˆ°å³çš„é¡ºåºé€ä¸ªè¿­ä»£åˆ—è¡¨å…ƒç´ ã€‚</p> <p>åå‘è¿­ä»£å™¨æ˜¯ä¸€ç§é€†åºéå†å®¹å™¨å…ƒç´ çš„è¿­ä»£å™¨ï¼Œå®ƒæŒ‰ç…§å®¹å™¨ä¸­å…ƒç´ çš„ç›¸åé¡ºåºé€ä¸ªè¿­ä»£ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸€ä¸ªåˆ—è¡¨ä¸­ï¼Œåå‘è¿­ä»£å™¨å°†æŒ‰ç…§åˆ—è¡¨ä»å³åˆ°å·¦çš„é¡ºåºé€ä¸ªè¿­ä»£åˆ—è¡¨å…ƒç´ ã€‚</p> <p>åœ¨C++ä¸­ï¼Œå¯ä»¥ä½¿ç”¨<code>begin()</code>å’Œ<code>end()</code>å‡½æ•°è·å–æ­£å‘è¿­ä»£å™¨ï¼Œä½¿ç”¨<code>rbegin()</code>å’Œ<code>rend()</code>å‡½æ•°è·å–åå‘è¿­ä»£å™¨ã€‚</p> <h2 id="trie-å‰ç¼€æ ‘âœ…"><a href="#trie-å‰ç¼€æ ‘âœ…" class="header-anchor">#</a> Trie-å‰ç¼€æ ‘âœ…</h2> <ul><li><p>å‰ç¼€æ ‘ï¼Œåˆç§°å­—å…¸æ ‘ï¼Œæ˜¯ N å‰æ ‘çš„ç‰¹æ®Šå½¢å¼ã€‚</p></li> <li><p>Trie [traÉª] è¯»éŸ³å’Œ try ç›¸åŒï¼Œå®ƒçš„å¦ä¸€äº›åå­—æœ‰ï¼š<strong>å­—å…¸æ ‘</strong>ï¼Œ<strong>å‰ç¼€æ ‘</strong>ï¼Œ<strong>å•è¯æŸ¥æ‰¾æ ‘</strong>ç­‰ã€‚</p></li> <li><p><a href="https://leetcode-cn.com/tag/trie/" target="_blank" rel="noopener noreferrer">LeetCodeä¼ é€é—¨<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li></ul> <h3 id="å­—å…¸æ ‘ç±»ä»£ç "><a href="#å­—å…¸æ ‘ç±»ä»£ç " class="header-anchor">#</a> å­—å…¸æ ‘ç±»ä»£ç </h3> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">class</span> <span class="token class-name">Trie</span> 
<span class="token punctuation">{</span>
<span class="token keyword">private</span><span class="token operator">:</span>
	<span class="token comment">//æ ‡è®°æ˜¯å¦æ˜¯å•è¯ç»“æŸ</span>
    <span class="token keyword">bool</span> isEnd<span class="token punctuation">;</span>
    Trie<span class="token operator">*</span> next<span class="token punctuation">[</span><span class="token number">26</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token comment">/** Initialize your data structure here. */</span>
    <span class="token function">Trie</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        isEnd <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token function">memset</span><span class="token punctuation">(</span>next<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>next<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

	<span class="token comment">/** Inserts a word into the trie. */</span>
    <span class="token keyword">void</span> <span class="token function">insert</span><span class="token punctuation">(</span>string word<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Trie<span class="token operator">*</span> node <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">char</span> c <span class="token operator">:</span> word<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token operator">-&gt;</span>next<span class="token punctuation">[</span>c<span class="token operator">-</span><span class="token char">'a'</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                node<span class="token operator">-&gt;</span>next<span class="token punctuation">[</span>c<span class="token operator">-</span><span class="token char">'a'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Trie</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            node <span class="token operator">=</span> node<span class="token operator">-&gt;</span>next<span class="token punctuation">[</span>c<span class="token operator">-</span><span class="token char">'a'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        node<span class="token operator">-&gt;</span>isEnd <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/** Returns if the word is in the trie. */</span>
    <span class="token keyword">bool</span> <span class="token function">search</span><span class="token punctuation">(</span>string word<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Trie<span class="token operator">*</span> node <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">char</span> c <span class="token operator">:</span> word<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            node <span class="token operator">=</span> node<span class="token operator">-&gt;</span>next<span class="token punctuation">[</span>c <span class="token operator">-</span> <span class="token char">'a'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>node <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//å€ŸåŠ©isEndæ¥çœ‹æ˜¯ä¸æ˜¯æœ€ç»ˆçš„èŠ‚ç‚¹</span>
        <span class="token keyword">return</span> node<span class="token operator">-&gt;</span>isEnd<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/** Returns if there is any word in the trie that starts with the given prefix. */</span>
    <span class="token keyword">bool</span> <span class="token function">startsWith</span><span class="token punctuation">(</span>string prefix<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Trie<span class="token operator">*</span> node <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">char</span> c <span class="token operator">:</span> prefix<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            node <span class="token operator">=</span> node<span class="token operator">-&gt;</span>next<span class="token punctuation">[</span>c<span class="token operator">-</span><span class="token char">'a'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>node <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token comment">//æ¯”å¦‚ï¼Œappleçš„å‰ç¼€å¯ä»¥æ˜¯app,apple</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * Your Trie object will be instantiated and called as such:
 * Trie* obj = new Trie();
 * obj-&gt;insert(word);
 * bool param_2 = obj-&gt;search(word);
 * bool param_3 = obj-&gt;startsWith(prefix);
 */</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br></div></div><h2 id="å¤§æ•°ç®—æ³•ã€æ¨¡æ¿ã€"><a href="#å¤§æ•°ç®—æ³•ã€æ¨¡æ¿ã€" class="header-anchor">#</a> å¤§æ•°ç®—æ³•ã€æ¨¡æ¿ã€</h2> <h3 id="_1-å¤§æ•°åŠ æ³•"><a href="#_1-å¤§æ•°åŠ æ³•" class="header-anchor">#</a> 1.å¤§æ•°åŠ æ³•</h3> <ul><li>ç‰›å®¢ç½‘ï¼Œ<a href="https://www.nowcoder.com/questionTerminal/c56f6c70fb3f4849bc56e33ff2a50b6b" target="_blank" rel="noopener noreferrer">ä¸¤ä¸ªé“¾è¡¨ç”Ÿæˆç›¸åŠ é“¾è¡¨<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-txt line-numbers-mode"><pre class="language-txt"><code>1ã€ã€é€†å‘æ€ç»´ã€å»æ¨¡æ‹Ÿ
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_2-å¤§æ•°ä¹˜æ³•â­ï¸"><a href="#_2-å¤§æ•°ä¹˜æ³•â­ï¸" class="header-anchor">#</a> 2.å¤§æ•°ä¹˜æ³•â­ï¸</h3> <ul><li>ç‰›å®¢ç½‘ï¼Œ<a href="https://blog.nowcoder.net/n/21c559cb23e74786888345b361fa0c62" target="_blank" rel="noopener noreferrer">å¤§æ•°ä¹˜æ³•<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ï¼ˆä¸¤ä¸ªæ­£æ•°ç‰ˆæœ¬ï¼‰ã€æˆ‘çš„åšå®¢é¢˜è§£ã€</li> <li>ä¹˜æ³•çš„å‘æ¯”åŠ æ³•å¤šï¼âœ”ï¸</li> <li><a href="https://leetcode-cn.com/problems/multiply-strings/" target="_blank" rel="noopener noreferrer">LeetCode43. å­—ç¬¦ä¸²ç›¸ä¹˜<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <ul><li>å¯¹ã€å†™ä»£ç å‰ï¼Œæµ‹è¯•å…ˆè¡Œã€çš„ç†è§£æ›´æ·±åˆ»</li></ul></li></ul> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token number">1</span>ã€æ³¨æ„ï¼Œä¸¤ä¸ªä¸º<span class="token number">0</span>çš„æ—¶å€™ï¼Œè¦ç‰¹åˆ¤ã€ä¸ç„¶ï¼Œä¼šæœ‰ä¸€ä¸ªæ ·ä¾‹è¿‡ä¸äº†ã€
<span class="token number">2</span>ã€ã€é€†å‘æ€ç»´ã€å»æ¨¡æ‹Ÿ
<span class="token number">3</span>ã€ç”¨æ•°ç»„çš„ä¸‹æ ‡<span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span>å»æ¨¡æ‹Ÿï¼Œ<span class="token number">10</span><span class="token operator">^</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token operator">^</span><span class="token number">1</span>å•¥çš„
<span class="token number">4</span>ã€ä¸€å®šè¦æ‰¾åˆ°ç¬¬<span class="token number">1</span>ä¸ªä¸æ˜¯<span class="token number">0</span>çš„æ•°å­—ï¼Œç„¶åå†ç»„è£…å›æ¥
    
æ ·ä¾‹ä¸¾ä¾‹
Len1 Len2   Len		é•¿åº¦
<span class="token number">0</span>	 <span class="token number">123</span>    <span class="token number">0</span>		ç‰¹åˆ¤
<span class="token number">123</span>  <span class="token number">0</span>	    <span class="token number">0</span>		ç‰¹åˆ¤	
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>    
<span class="token number">2</span>    <span class="token number">3</span>      <span class="token number">6</span>		Len1<span class="token operator">+</span>Len2<span class="token operator">-</span><span class="token number">1</span>
<span class="token number">2</span>    <span class="token number">5</span>      <span class="token number">10</span>		Len1<span class="token operator">+</span>Len2
<span class="token number">10</span>   <span class="token number">10</span>     <span class="token number">100</span>     Len1<span class="token operator">+</span>Len2<span class="token operator">-</span><span class="token number">1</span>
<span class="token number">20</span>   <span class="token number">50</span>     <span class="token number">1000</span>	Len1<span class="token operator">+</span>Len2
è§„å¾‹ï¼šæˆ‘ä»¬çš„ç»“æœæœ€å¤§åªéœ€å¼€
    Len1<span class="token operator">+</span>Len2
    ç„¶åï¼Œè‡ªå·±æƒ³åŠæ³•ï¼Œè·å¾—å•¥æ—¶å€™<span class="token operator">-</span><span class="token number">1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    string <span class="token function">multiply</span><span class="token punctuation">(</span>string num1<span class="token punctuation">,</span> string num2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        
        <span class="token comment">//ä»£ç å¥å£®æ€§</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token number">0</span><span class="token operator">==</span>num1<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token operator">==</span>num2<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token string">&quot;error num1.size()||nums2.size()&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
        string res<span class="token punctuation">;</span>
        <span class="token comment">//*0çš„ç‰¹åˆ¤</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token number">1</span><span class="token operator">==</span>num1<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token char">'0'</span><span class="token operator">==</span>num1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">return</span> res<span class="token operator">+=</span><span class="token string">&quot;0&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token number">1</span><span class="token operator">==</span>num2<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token char">'0'</span><span class="token operator">==</span>num2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">return</span> res<span class="token operator">+=</span><span class="token string">&quot;0&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token function">reverse</span><span class="token punctuation">(</span> num1<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> num1<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">reverse</span><span class="token punctuation">(</span> num2<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> num2<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//å¯èƒ½æ˜¯Len1+Len2-1  Len1+Len2 ä¸¤ç§</span>
        <span class="token comment">//vectorè‡ªåŠ¨åˆå§‹åŒ–ä¸ºå…¨0</span>
        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">temp</span><span class="token punctuation">(</span> num1<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span>num2<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">for</span><span class="token punctuation">(</span> <span class="token keyword">int</span> one<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> one<span class="token operator">&lt;</span>num1<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>one <span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> two<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> two<span class="token operator">&lt;</span>num2<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>two <span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token keyword">int</span> val<span class="token operator">=</span><span class="token punctuation">(</span>num1<span class="token punctuation">[</span>one<span class="token punctuation">]</span><span class="token operator">-</span><span class="token char">'0'</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>num2<span class="token punctuation">[</span>two<span class="token punctuation">]</span><span class="token operator">-</span><span class="token char">'0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                temp<span class="token punctuation">[</span> one<span class="token operator">+</span>two <span class="token punctuation">]</span><span class="token operator">+=</span>val<span class="token punctuation">;</span>
                
                <span class="token comment">//æ³¨æ„è¦å¤„ç†è¿›ä½ï¼ï¼</span>
                <span class="token keyword">int</span> carry<span class="token operator">=</span>temp<span class="token punctuation">[</span>one<span class="token operator">+</span>two<span class="token punctuation">]</span><span class="token operator">/</span><span class="token number">10</span><span class="token punctuation">;</span>
                temp<span class="token punctuation">[</span>one<span class="token operator">+</span>two<span class="token punctuation">]</span><span class="token operator">%=</span><span class="token number">10</span><span class="token punctuation">;</span>

                <span class="token keyword">int</span> curPos<span class="token operator">=</span>one<span class="token operator">+</span>two<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
                <span class="token keyword">while</span><span class="token punctuation">(</span> carry <span class="token punctuation">)</span>
                <span class="token punctuation">{</span>
                    temp<span class="token punctuation">[</span> curPos <span class="token punctuation">]</span><span class="token operator">+=</span>carry<span class="token punctuation">;</span>
                    carry<span class="token operator">=</span>temp<span class="token punctuation">[</span> curPos <span class="token punctuation">]</span><span class="token operator">/</span><span class="token number">10</span><span class="token punctuation">;</span>
                    temp<span class="token punctuation">[</span>curPos<span class="token punctuation">]</span><span class="token operator">%=</span><span class="token number">10</span><span class="token punctuation">;</span>
                    <span class="token operator">++</span>curPos<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">int</span> pos<span class="token operator">=</span>num1<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span>num2<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span> pos<span class="token operator">--</span> <span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span> temp<span class="token punctuation">[</span>pos<span class="token punctuation">]</span> <span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        
        <span class="token comment">//æå®šï¼Œ10*10=100ï¼Œtempä¸­æ˜¾ç¤ºçš„0010è¿™æ ·çš„çŠ¶å†µ</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span> pos<span class="token operator">&gt;=</span><span class="token number">0</span> <span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            res<span class="token operator">+=</span><span class="token punctuation">(</span>temp<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token operator">+</span><span class="token char">'0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token operator">--</span>pos<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br></div></div><h3 id="_3-å¤§æ•°é˜¶ä¹˜"><a href="#_3-å¤§æ•°é˜¶ä¹˜" class="header-anchor">#</a> 3.å¤§æ•°é˜¶ä¹˜</h3> <ul><li>Nçš„<a href="https://www.nowcoder.com/practice/f54d8e6de61e4efb8cce3eebfd0e0daa?tab=answerKey" target="_blank" rel="noopener noreferrer">é˜¶ä¹˜<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <blockquote><p>å‚è€ƒé¢˜è§£ï¼š<a href="https://blog.nowcoder.net/n/158ab1f38b3a4e75b79788e92139a8e2" target="_blank" rel="noopener noreferrer">ç‰›å®¢ç½‘<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code>ç”¨<span class="token keyword">long</span>æ•°ç»„å­˜å‚¨é˜¶ä¹˜ç»“æœï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªæ•°å­˜å‚¨é˜¶ä¹˜çš„<span class="token number">4</span>ä½<span class="token number">10</span>è¿›åˆ¶æ•°ï¼Œä¸è¶³çš„ç”¨<span class="token number">0</span>è¡¥å……ã€‚
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="ä½è¿ç®—-è§„å¾‹"><a href="#ä½è¿ç®—-è§„å¾‹" class="header-anchor">#</a> ä½è¿ç®—-è§„å¾‹</h2> <h3 id="_1-äº¤æ¢"><a href="#_1-äº¤æ¢" class="header-anchor">#</a> 1.äº¤æ¢</h3> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">int</span> a<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> b<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>
a<span class="token operator">=</span>a<span class="token operator">^</span>b<span class="token punctuation">;</span>
b<span class="token operator">=</span>a<span class="token operator">^</span>b<span class="token punctuation">;</span>
a<span class="token operator">=</span>a<span class="token operator">^</span>b<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>è®°å¿†ï¼šè§‚å¯ŸçŸ¥é“ï¼Œå³è¾¹éƒ½æ˜¯a^b</p></blockquote> <h3 id="_2-å¼‚æˆ–çš„æ€§è´¨"><a href="#_2-å¼‚æˆ–çš„æ€§è´¨" class="header-anchor">#</a> 2.å¼‚æˆ–çš„æ€§è´¨</h3> <ul><li><code>0^x=0</code></li></ul> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code>  å¦‚æœï¼š
      a<span class="token operator">^</span>b<span class="token operator">=</span>other<span class="token punctuation">;</span>
  é‚£ä¹ˆï¼š
      <span class="token punctuation">(</span>a<span class="token operator">^</span>other<span class="token operator">==</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
  	<span class="token punctuation">(</span>b<span class="token operator">^</span>other<span class="token operator">==</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="ä»£ç å®ç°memcpyã€Œè…¾è®¯ã€"><a href="#ä»£ç å®ç°memcpyã€Œè…¾è®¯ã€" class="header-anchor">#</a> ä»£ç å®ç°memcpyã€Œè…¾è®¯ã€</h2> <ul><li>è¿™æ˜¯ä¸€ä¸ªCè¯­è¨€å®ç°çš„<strong>å†…å­˜æ‹·è´å‡½æ•°</strong>ï¼Œå®ƒçš„ä½œç”¨æ˜¯ä»æºåœ°å€<code>src</code>æ‹·è´<code>num</code>ä¸ªå­—èŠ‚åˆ°ç›®çš„åœ°å€<code>dest</code>ã€‚</li></ul> <p><code>ä¸ºä»€ä¹ˆåœ¨æ„é€ çš„æ—¶å€™æŠŠå®ƒå¼ºåˆ¶è½¬æ¢æˆchar*ï¼Œè€Œä¸æ˜¯int*ç­‰å…¶ä»–ç±»å‹çš„å‘¢ï¼Ÿå› ä¸ºï¼Œmemcpyå¯ä»¥æ‹·è´ä»»æ„ç±»å‹çš„å†…å­˜ï¼Œæ‰€ä»¥å¦‚æœè½¬æˆint*ï¼Œé‚£ä¹ˆå®ƒæ¯æ¬¡åªèƒ½æ‹·è´4ä¸ªå­—èŠ‚ï¼Œè€Œå¯¹äºå­—ç¬¦ä¸²æˆ–æ˜¯ç»“æ„ä½“çš„æ‹·è´ï¼Œå®ƒä»¬çš„å¤§å°å¯èƒ½ä¸æ˜¯4çš„æ•´æ•°å€ï¼Œè¿™æ ·å°±ä¼šå¯¼è‡´æ‹·è´çš„å¤±è´¥ï¼Œæ‰€ä»¥ä¸ºäº†å¯ä»¥æ‹·è´å…¨éƒ¨å†…å­˜ï¼Œè¦ä¸€ä¸ªä¸€ä¸ªå­—èŠ‚çš„æ‹·è´ï¼Œè€Œchar*æ°å¥½æ»¡è¶³è¿™æ ·çš„æ¡ä»¶.</code></p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">void</span> <span class="token operator">*</span><span class="token function">memcpy</span> <span class="token punctuation">(</span> <span class="token keyword">void</span> <span class="token operator">*</span> dest<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">void</span> <span class="token operator">*</span> src<span class="token punctuation">,</span> size_t num <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">assert</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">!=</span>src <span class="token operator">&amp;&amp;</span> <span class="token constant">NULL</span> <span class="token operator">!=</span>dest<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//ã€Œå‘1ã€æ–­è¨€ï¼Œé˜²æ­¢ç©ºæŒ‡é’ˆ</span>
		<span class="token keyword">char</span> <span class="token operator">*</span>m_dest<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span>dest<span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>m_src<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span>src<span class="token punctuation">;</span>
  	<span class="token keyword">for</span><span class="token punctuation">(</span>size_t i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>num<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">{</span>
      m_dest<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>m_src<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  	<span class="token keyword">return</span> dest<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="ä»£ç å®ç°memmoveã€Œè…¾è®¯ã€"><a href="#ä»£ç å®ç°memmoveã€Œè…¾è®¯ã€" class="header-anchor">#</a> ä»£ç å®ç°memmoveã€Œè…¾è®¯ã€</h2> <ul><li><code>memmove</code>å‡½æ•°çš„ä½œç”¨æ˜¯ä»æºå†…å­˜åœ°å€<code>src</code>å¤„å¼€å§‹æ‹·è´<code>n</code>ä¸ªå­—èŠ‚åˆ°ç›®æ ‡å†…å­˜åœ°å€<code>dest</code>å¤„ã€‚å®ƒçš„ä¼˜ç‚¹æ˜¯å¯ä»¥å¤„ç†æºå†…å­˜å’Œç›®æ ‡å†…å­˜<strong>æœ‰é‡å çš„</strong>æƒ…å†µï¼Œ<strong>è€Œ<code>memcpy</code>å‡½æ•°åˆ™ä¸èƒ½å¤„ç†è¿™ç§æƒ…å†µ</strong>ã€‚</li></ul> <p>æœ€åï¼Œmemcpyåœ¨å†…å­˜æ²¡æœ‰é‡å¤çš„æƒ…å†µä¸‹èƒ½å¤Ÿæ­£ç¡®å¤åˆ¶ï¼Œè‹¥æœ‰é‡å æƒ…å†µåˆ™å¤åˆ¶ç»“æœé”™è¯¯ï¼Œä½†æ˜¯å®ƒçš„æ•ˆç‡æ¯”memmoveé«˜ã€‚æ‰€ä»¥ï¼Œåœ¨ç¡®å®šæ²¡æœ‰é‡å¤çš„æƒ…å†µä¸‹ç”¨memcpyï¼Œåœ¨ä¸ç¡®å®šæ˜¯å¦æœ‰å†…å­˜é‡å¤çš„æƒ…å†µç”¨memmoveã€‚</p> <img src="/assets/img/memmoveæƒ…å†µ.b094d8c8.png"> <p>å¦‚ä¸Šï¼<strong>ä¸‰ç§æƒ…å†µ</strong>æè¿°å¦‚ä¸‹ï¼š</p> <ul><li><strong>dst</strong><code>&lt;=</code>src
<ul><li>æ­¤æ—¶ï¼Œæ­£å‘çš„æ‹·è´å³å¯ï¼Œä¸ä¼šè¦†ç›–æ•°æ®</li></ul></li> <li>src<code>&lt;</code><strong>dst</strong><code>&lt;</code>src+n
<ul><li>æ­¤æ—¶ï¼Œéœ€è¦<strong>é€†å‘</strong>çš„æ‹·è´ï¼å¦åˆ™ä¼šè¦†ç›–æ•°æ®</li></ul></li> <li>src+n<code>&lt;=</code><strong>dst</strong> <ul><li>æ­¤æ—¶ï¼Œæ­£å‘çš„æ‹·è´å³å¯ï¼Œä¸ä¼šè¦†ç›–æ•°æ®</li></ul></li></ul> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">void</span> <span class="token operator">*</span> memmove ï¼ˆ <span class="token keyword">void</span> <span class="token operator">*</span> dst<span class="token punctuation">,</span><span class="token keyword">const</span> <span class="token keyword">void</span> <span class="token operator">*</span> src<span class="token punctuation">,</span>size_t count<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token function">assert</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">!=</span>src <span class="token operator">&amp;&amp;</span> <span class="token constant">NULL</span> <span class="token operator">!=</span>dst<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ã€Œå‘1ã€æ–­è¨€ï¼Œé˜²æ­¢ç©ºæŒ‡é’ˆ</span>
   <span class="token keyword">void</span> <span class="token operator">*</span> ret <span class="token operator">=</span> dst<span class="token punctuation">;</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span>dst <span class="token operator">&lt;=</span> src <span class="token operator">||</span> <span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span>dst <span class="token operator">&gt;=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span>src <span class="token operator">+</span> count<span class="token punctuation">)</span><span class="token punctuation">)</span>
   <span class="token punctuation">{</span>  <span class="token comment">// è‹¥dstå’ŒsrcåŒºåŸŸæ²¡æœ‰é‡å ï¼Œåˆ™ä»èµ·å§‹å¤„å¼€å§‹é€ä¸€æ‹·è´</span>
      <span class="token keyword">while</span> <span class="token punctuation">(</span>count<span class="token operator">--</span><span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
         <span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span>dst <span class="token operator">=</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span>src<span class="token punctuation">;</span>
         dst <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span>dst <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
         src <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span>src <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">else</span>
   <span class="token punctuation">{</span>  <span class="token comment">// è‹¥dstå’Œsrc åŒºåŸŸäº¤å‰ï¼Œåˆ™ä»å°¾éƒ¨å¼€å§‹å‘èµ·å§‹ä½ç½®æ‹·è´ï¼Œè¿™æ ·å¯ä»¥é¿å…æ•°æ®å†²çª</span>
      dst <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span>dst <span class="token operator">+</span> count <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
      src <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span>src <span class="token operator">+</span> count <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
      <span class="token keyword">while</span> <span class="token punctuation">(</span>count<span class="token operator">--</span><span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
         <span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span>dst <span class="token operator">=</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span>src<span class="token punctuation">;</span>
         dst <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span>dst <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
         src <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span>src <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">return</span><span class="token punctuation">(</span>ret<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">void</span> <span class="token operator">*</span> memmove ï¼ˆ <span class="token keyword">void</span> <span class="token operator">*</span> dst<span class="token punctuation">,</span><span class="token keyword">const</span> <span class="token keyword">void</span> <span class="token operator">*</span> src<span class="token punctuation">,</span><span class="token class-name">size_t</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token function">assert</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">!=</span>src <span class="token operator">&amp;&amp;</span> <span class="token constant">NULL</span> <span class="token operator">!=</span>dst<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ã€Œå‘1ã€æ–­è¨€ï¼Œé˜²æ­¢ç©ºæŒ‡é’ˆ</span>
   <span class="token keyword">char</span> <span class="token operator">*</span>m_dst<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span>dst<span class="token punctuation">;</span>
   <span class="token keyword">char</span> <span class="token operator">*</span>m_src<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span>src<span class="token punctuation">;</span>
  
   <span class="token keyword">if</span><span class="token punctuation">(</span> m_dst<span class="token operator">&lt;=</span> m_src <span class="token operator">||</span> m_dst<span class="token operator">&gt;=</span><span class="token punctuation">(</span>m_src<span class="token operator">+</span>n<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">memcpy</span><span class="token punctuation">(</span>m_dst<span class="token punctuation">,</span>m_src<span class="token punctuation">,</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æƒ…å†µ1å’Œ3çš„æ­£å‘æ‹·è´</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">else</span><span class="token punctuation">{</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>n<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            m_dst<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token operator">=</span>m_src<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//é€†å‘æ‹·è´</span>
        <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">return</span> dst<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="ä»£ç å®ç°strcpy"><a href="#ä»£ç å®ç°strcpy" class="header-anchor">#</a> ä»£ç å®ç°strcpy</h2> <p>â€‹	æŠŠä»srcåœ°å€å¼€å§‹ä¸”å«æœ‰<code>'\0'</code>ç»“æŸç¬¦çš„å­—ç¬¦ä¸²å¤åˆ¶åˆ°ä»¥dstå¼€å§‹çš„åœ°å€ç©ºé—´ï¼Œè¿”å›å€¼çš„ç±»å‹ä¸º<code>char*</code></p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">char</span> <span class="token operator">*</span><span class="token function">strcpy</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>dst<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>src<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">assert</span><span class="token punctuation">(</span> <span class="token constant">NULL</span><span class="token operator">!=</span>dst <span class="token operator">&amp;&amp;</span> <span class="token constant">NULL</span><span class="token operator">!=</span>src <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">char</span> <span class="token operator">*</span>ret<span class="token operator">=</span>dst<span class="token punctuation">;</span>
  <span class="token keyword">while</span><span class="token punctuation">(</span> <span class="token char">'\0'</span><span class="token operator">!=</span><span class="token punctuation">(</span><span class="token operator">*</span>src<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token operator">*</span><span class="token punctuation">(</span>dst<span class="token operator">++</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">*</span><span class="token punctuation">(</span>src<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token operator">*</span>dst<span class="token operator">=</span><span class="token char">'\0'</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> dst<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="ä»£ç å®ç°strlen"><a href="#ä»£ç å®ç°strlen" class="header-anchor">#</a> ä»£ç å®ç°strlen</h2> <p>è®¡ç®—ç»™å®šå­—ç¬¦ä¸²çš„â»“åº¦ã€‚</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">int</span> <span class="token function">strlen</span><span class="token punctuation">(</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>str <span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">assert</span><span class="token punctuation">(</span> <span class="token constant">NULL</span><span class="token operator">!=</span>str <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">int</span> len<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span><span class="token punctuation">(</span> <span class="token char">'\0'</span><span class="token operator">!=</span><span class="token punctuation">(</span><span class="token operator">*</span>str<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token operator">++</span>len<span class="token punctuation">;</span>
    <span class="token operator">++</span>str<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> len<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="ä»£ç å®ç°strcat"><a href="#ä»£ç å®ç°strcat" class="header-anchor">#</a> ä»£ç å®ç°strcat</h2> <p>ä½œâ½¤æ˜¯æŠŠsrcæ‰€æŒ‡å­—ç¬¦ä¸²æ·»åŠ åˆ°destç»“å°¾å¤„ã€‚</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">char</span> <span class="token operator">*</span> <span class="token function">strcat</span><span class="token punctuation">(</span> <span class="token keyword">char</span> <span class="token operator">*</span>dst<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>src <span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">assert</span><span class="token punctuation">(</span> <span class="token constant">NULL</span><span class="token operator">!=</span>dst <span class="token operator">&amp;&amp;</span> <span class="token constant">NULL</span><span class="token operator">!=</span>src <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//assert( dst &amp;&amp; src); ä¹Ÿæ˜¯å¯ä»¥çš„</span>
  <span class="token keyword">char</span> <span class="token operator">*</span>ret<span class="token operator">=</span>dst<span class="token punctuation">;</span>
  <span class="token keyword">while</span><span class="token punctuation">(</span> <span class="token char">'\0'</span><span class="token operator">!=</span><span class="token punctuation">(</span><span class="token operator">*</span>dst<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token operator">++</span>dst<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">//ä»'\0'æ·»åŠ å¼€å§‹</span>
  <span class="token keyword">while</span><span class="token punctuation">(</span> <span class="token char">'\0'</span><span class="token operator">!=</span>src <span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token punctuation">(</span><span class="token operator">*</span>dst<span class="token punctuation">)</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token operator">*</span>src<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">++</span>dst<span class="token punctuation">;</span>
    <span class="token operator">++</span>src<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token operator">*</span>dst<span class="token operator">=</span><span class="token char">'\0'</span><span class="token punctuation">;</span>
  
  <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="ä»£ç å®ç°strcmpã€Œå­¦ä¹ ã€"><a href="#ä»£ç å®ç°strcmpã€Œå­¦ä¹ ã€" class="header-anchor">#</a> ä»£ç å®ç°strcmpã€Œå­¦ä¹ ã€</h2> <p>â€‹	â½è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²è®¾è¿™ä¸¤ä¸ªå­—ç¬¦ä¸²ä¸ºstr1ï¼Œstr2</p> <p>è‹¥str1 == str2ï¼Œåˆ™è¿”å›é›¶</p> <p>è‹¥str1 &lt; str2ï¼Œåˆ™è¿”å›è´Ÿæ•°</p> <p>è‹¥str1 &gt; str2ï¼Œåˆ™è¿”å›æ­£æ•°</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">int</span> <span class="token function">strcmp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>s1<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>s2<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  	<span class="token function">assert</span><span class="token punctuation">(</span> <span class="token constant">NULL</span><span class="token operator">!=</span>s1 <span class="token operator">&amp;&amp;</span> <span class="token constant">NULL</span><span class="token operator">!=</span>s2 <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//assert( s1 &amp;&amp; s2); ä¹Ÿæ˜¯å¯ä»¥çš„</span>
    <span class="token keyword">int</span> i<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> s1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token char">'\0'</span> <span class="token operator">&amp;&amp;</span> s2<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token char">'\0'</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>s1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> s2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token punctuation">(</span>s1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> s2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="å¦‚ä½•å®ç°ä¸€ä¸ª-çº¿ç¨‹å®‰å…¨-çš„shared-ptræ™ºèƒ½æŒ‡é’ˆ"><a href="#å¦‚ä½•å®ç°ä¸€ä¸ª-çº¿ç¨‹å®‰å…¨-çš„shared-ptræ™ºèƒ½æŒ‡é’ˆ" class="header-anchor">#</a> å¦‚ä½•å®ç°ä¸€ä¸ªâ€çº¿ç¨‹å®‰å…¨â€œçš„shared_ptræ™ºèƒ½æŒ‡é’ˆï¼Ÿ</h2> <p>è¿™ä¸ªé¢˜ç›®æ‹¿åˆ°æ‰‹åå¾—ææ¸…æ¥šshared_ptrçš„åŸç†
1.åœ¨å…¶å†…éƒ¨ï¼Œç»™æ¯ä¸ªèµ„æºéƒ½ç»´æŠ¤äº†ç€ä¸€ä»½è®¡æ•°ï¼Œç”¨æ¥è®°å½•è¯¥ä»½èµ„æºè¢«å‡ ä¸ªå¯¹è±¡å…±äº«ã€‚
2.åœ¨å¯¹è±¡è¢«é”€æ¯æ—¶ï¼Œå°±è¯´æ˜è‡ªå·±ä¸ä½¿ç”¨è¯¥èµ„æºäº†ï¼Œå¯¹è±¡çš„å¼•ç”¨è®¡æ•°å‡ä¸€ã€‚
3.å¦‚æœå¼•ç”¨è®¡æ•°æ˜¯0ï¼Œå°±è¯´æ˜è‡ªå·±æ˜¯æœ€åä¸€ä¸ªä½¿ç”¨è¯¥èµ„æºçš„å¯¹è±¡ï¼Œå¿…é¡»é‡Šæ”¾è¯¥èµ„æºï¼›
4.å¦‚æœä¸æ˜¯0ï¼Œå°±è¯´æ˜é™¤äº†è‡ªå·±è¿˜æœ‰å…¶ä»–å¯¹è±¡åœ¨ä½¿ç”¨è¯¥ä»½èµ„æºï¼Œä¸èƒ½é‡Šæ”¾è¯¥èµ„æºï¼Œå¦åˆ™å…¶ä»–å¯¹è±¡å°±æˆé‡æŒ‡é’ˆäº†ã€‚</p> <p>è€Œä¸”é¢˜ç›®æ—¢ç„¶è¦æ±‚çº¿ç¨‹å®‰å…¨ï¼Œå°±å¾—è€ƒè™‘ä¸‹é¢ä¸¤ä¸ªé—®é¢˜ï¼š
1.æ™ºèƒ½æŒ‡é’ˆå¯¹è±¡ä¸­çš„å¼•ç”¨æŠ€æœ¯æ˜¯å¤šä¸ªå¯¹è±¡æ‰€å…±äº«çš„ï¼Œ<strong>ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶å¯¹æ™ºèƒ½æŒ‡é’ˆ</strong>è¿›è¡Œ++æˆ–â€“è¿ç®—ï¼Œè¿™ä¸ªè®¡æ•°åŸæ¥æ˜¯1ï¼Œ++äº†ä¸¤æ¬¡å¯èƒ½è¿˜æ˜¯2ï¼Œè¿™æ ·å¼•ç”¨æŠ€æœ¯å°±é”™ä¹±äº†ã€‚ä¼šå¯¼è‡´èµ„æºæœªé‡Šæ”¾æˆ–è€…ç¨‹åºå´©æºƒçš„é—®é¢˜ã€‚æ‰€ä»¥åªèƒ½æŒ‡é’ˆä¸­å¼•ç”¨è®¡æ•°++ã€â€“æ˜¯éœ€è¦åŠ é”çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å¼•ç”¨è®¡æ•°çš„æ“ä½œæ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚
2.æ™ºèƒ½æŒ‡é’ˆçš„å¯¹è±¡å­˜æ”¾åœ¨å †ä¸Šï¼Œå¯èƒ½ä¼šå¯¼è‡´çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚</p> <p>å®ç°ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„shared_ptræ™ºèƒ½æŒ‡é’ˆéœ€è¦æ»¡è¶³ä»¥ä¸‹è¦æ±‚ï¼š</p> <ol><li>ä»»ä½•æ—¶åˆ»åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½å¤Ÿä¿®æ”¹è®¡æ•°å™¨å’ŒæŒ‡é’ˆã€‚</li> <li>å½“ä¸€ä¸ªçº¿ç¨‹æ­£åœ¨ä¿®æ”¹è®¡æ•°å™¨å’ŒæŒ‡é’ˆæ—¶ï¼Œå…¶ä»–çº¿ç¨‹ä¸èƒ½å¤Ÿè¯»å–æˆ–ä¿®æ”¹è®¡æ•°å™¨å’ŒæŒ‡é’ˆã€‚</li> <li>å½“ä¸€ä¸ªçº¿ç¨‹åœ¨ä½¿ç”¨shared_ptræ—¶ï¼Œå…¶ä»–çº¿ç¨‹ä¸èƒ½å¤Ÿé”€æ¯æŒ‡å‘çš„å¯¹è±¡ã€‚</li></ol> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;mutex&gt;</span></span>

<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token comment">//å¼•ç”¨è®¡æ•°å™¨</span>
<span class="token keyword">class</span> <span class="token class-name">mycounter</span><span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">mycounter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token function">m_used</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token function">mycounter</span><span class="token punctuation">(</span> <span class="token keyword">const</span> mycounter<span class="token operator">&amp;</span> <span class="token punctuation">)</span><span class="token operator">=</span><span class="token keyword">delete</span><span class="token punctuation">;</span>
    <span class="token operator">~</span><span class="token function">mycounter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    mycounter<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> mycounter<span class="token operator">&amp;</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token keyword">delete</span><span class="token punctuation">;</span>

    <span class="token keyword">void</span> <span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        m_used<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">unsigned</span> <span class="token keyword">int</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> m_used<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token keyword">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token operator">++</span>m_used<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">void</span> <span class="token keyword">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        m_used<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">void</span> <span class="token keyword">operator</span><span class="token operator">--</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token operator">--</span>m_used<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">void</span> <span class="token keyword">operator</span><span class="token operator">--</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        m_used<span class="token operator">--</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">friend</span> ostream<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span> ostream<span class="token operator">&amp;</span> os <span class="token punctuation">,</span> <span class="token keyword">const</span> mycounter<span class="token operator">&amp;</span> temp<span class="token punctuation">)</span><span class="token punctuation">{</span>
        os<span class="token operator">&lt;&lt;</span> <span class="token string">&quot;counter value=&quot;</span> <span class="token operator">&lt;&lt;</span> temp<span class="token punctuation">.</span>m_used <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
        <span class="token keyword">return</span> os<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token keyword">private</span><span class="token operator">:</span>
    <span class="token keyword">unsigned</span> <span class="token keyword">int</span> m_used<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>


<span class="token comment">//æ ¸å¿ƒæ™ºèƒ½æŒ‡é’ˆ</span>
<span class="token keyword">template</span><span class="token operator">&lt;</span> <span class="token keyword">typename</span> <span class="token class-name">T</span> <span class="token operator">&gt;</span>
<span class="token keyword">class</span> <span class="token class-name">myshared_ptr</span><span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">explicit</span> <span class="token function">myshared_ptr</span><span class="token punctuation">(</span> T <span class="token operator">*</span>ptr<span class="token operator">=</span><span class="token keyword">nullptr</span> <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token function">m_ptr</span><span class="token punctuation">(</span>ptr<span class="token punctuation">)</span><span class="token punctuation">,</span> 
    <span class="token function">m_pCounter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token function">mycounter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">m_pMutex</span><span class="token punctuation">(</span><span class="token keyword">new</span> mutex<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token keyword">nullptr</span><span class="token operator">!=</span>ptr <span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token function">add_ref_count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æ·»åŠ å¼•ç”¨è®¡æ•°</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token function">myshared_ptr</span><span class="token punctuation">(</span> myshared_ptr<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token operator">&amp;</span>sp <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">~</span> <span class="token function">myshared_ptr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    myshared_ptr<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span> <span class="token keyword">const</span> myshared_ptr<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token operator">&amp;</span>sp <span class="token punctuation">)</span><span class="token punctuation">;</span>
    T <span class="token operator">*</span> <span class="token keyword">operator</span><span class="token operator">-&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    T <span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    T <span class="token operator">*</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">unsigned</span> <span class="token keyword">int</span> <span class="token function">usecount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">private</span><span class="token operator">:</span>
    T <span class="token operator">*</span>m_ptr<span class="token punctuation">;</span>
    mutex <span class="token operator">*</span> m_pMutex<span class="token punctuation">;</span> <span class="token comment">//äº’æ–¥é”</span>
    mycounter <span class="token operator">*</span>m_pCounter<span class="token punctuation">;</span>

    <span class="token keyword">void</span> <span class="token function">add_ref_count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">realse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//å®ç°ç»†èŠ‚</span>
<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">typename</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token class-name">myshared_ptr</span><span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span><span class="token function">myshared_ptr</span><span class="token punctuation">(</span>myshared_ptr<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token operator">&amp;</span>sp<span class="token punctuation">)</span><span class="token punctuation">{</span>

    <span class="token comment">//?æµ…æ‹·è´âœ…</span>
    m_ptr<span class="token operator">=</span>sp<span class="token punctuation">.</span>m_ptr<span class="token punctuation">;</span>
    m_pCounter<span class="token operator">=</span>sp<span class="token punctuation">.</span>m_pCounter<span class="token punctuation">;</span>
    m_pMutex<span class="token operator">=</span>sp<span class="token punctuation">.</span>m_pMutex<span class="token punctuation">;</span>
    <span class="token function">add_ref_count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">template</span><span class="token operator">&lt;</span> <span class="token keyword">typename</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
myshared_ptr<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">&amp;</span> 
myshared_ptr<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span><span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> myshared_ptr<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">&amp;</span> sp<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//é˜²æ­¢è‡ªå·±assignç»™è‡ªå·±âœ…</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>m_ptr <span class="token operator">!=</span> sp<span class="token punctuation">.</span>m_ptr<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">realse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//ä¸ºä»€ä¹ˆå‘¢ï¼Ÿâœ…âœ…å› ä¸ºè‡ªèº«åŸæ¥æŒ‡å‘çš„å†…å­˜å¼•ç”¨è¦å‡1</span>

        <span class="token comment">//?æµ…æ‹·è´</span>
        m_ptr<span class="token operator">=</span>sp<span class="token punctuation">.</span>m_ptr<span class="token punctuation">;</span>
        m_pCounter<span class="token operator">=</span>sp<span class="token punctuation">.</span>m_pCounter<span class="token punctuation">;</span>
        m_pMutex<span class="token operator">=</span>sp<span class="token punctuation">.</span>m_pMutex<span class="token punctuation">;</span>

        <span class="token function">add_ref_count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  	
  	<span class="token comment">//å¦‚æœæ˜¯è‡ªå·±æ‹·è´ç»™è‡ªå·±</span>
  	<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">template</span><span class="token operator">&lt;</span> <span class="token keyword">typename</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
T <span class="token operator">*</span>
myshared_ptr<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span><span class="token keyword">operator</span><span class="token operator">-&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> m_ptr<span class="token punctuation">;</span> <span class="token comment">//å› ä¸ºä¼šè‡ªåŠ¨å»è·å¾—</span>
<span class="token punctuation">}</span>

<span class="token keyword">template</span><span class="token operator">&lt;</span> <span class="token keyword">typename</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
T <span class="token operator">&amp;</span>
myshared_ptr<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span><span class="token keyword">operator</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">*</span>m_ptr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">template</span><span class="token operator">&lt;</span> <span class="token keyword">typename</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
T <span class="token operator">*</span>
<span class="token class-name">myshared_ptr</span><span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> m_ptr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">template</span><span class="token operator">&lt;</span> <span class="token keyword">typename</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword">unsigned</span> <span class="token keyword">int</span>
<span class="token class-name">myshared_ptr</span><span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span><span class="token function">usecount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> m_pCounter<span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//ä½¿ç”¨classçš„</span>
<span class="token punctuation">}</span>

<span class="token keyword">template</span><span class="token operator">&lt;</span> <span class="token keyword">typename</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
myshared_ptr<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span><span class="token operator">~</span><span class="token function">myshared_ptr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">realse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">template</span><span class="token operator">&lt;</span> <span class="token keyword">typename</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword">void</span>
<span class="token class-name">myshared_ptr</span><span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span><span class="token function">add_ref_count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    m_pMutex<span class="token operator">-&gt;</span><span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//åŠ é”</span>
    <span class="token operator">++</span><span class="token punctuation">(</span><span class="token operator">*</span>m_pCounter<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//å¢åŠ å¼•ç”¨</span>
    m_pMutex<span class="token operator">-&gt;</span><span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è§£é”</span>
<span class="token punctuation">}</span>

<span class="token keyword">template</span><span class="token operator">&lt;</span> <span class="token keyword">typename</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword">void</span>
<span class="token class-name">myshared_ptr</span><span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span><span class="token function">realse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  
    <span class="token comment">//å¦‚æœå·²ç»æ¶ˆäº¡äº†ï¼Œé‚£ä¹ˆä¸è¦realseäº†</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token number">0</span><span class="token operator">==</span>m_pCounter<span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  
    <span class="token keyword">bool</span> deleteflag<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span>
    m_pMutex<span class="token operator">-&gt;</span><span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token operator">--</span><span class="token punctuation">(</span><span class="token operator">*</span>m_pCounter<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//å…ˆ-1</span>
    <span class="token comment">//å¦‚æœå¼•ç”¨è®¡æ•°ä¸º0ï¼Œé‚£ä¹ˆå°±æ¶ˆäº¡äº†</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token number">0</span><span class="token operator">==</span>m_pCounter<span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">delete</span> m_pCounter<span class="token punctuation">;</span>
        <span class="token keyword">delete</span> m_ptr<span class="token punctuation">;</span>
        deleteflag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    m_pMutex<span class="token operator">-&gt;</span><span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span> deleteflag <span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">delete</span> m_pMutex<span class="token punctuation">;</span> <span class="token comment">//æ­¤æ—¶æ‰éœ€è¦æŠŠäº’æ–¥é”æ¶ˆé™¤</span>
        <span class="token comment">//m_pMutex=nullptr;</span>
    <span class="token punctuation">}</span>
      
<span class="token punctuation">}</span>



<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br></div></div><ul><li>å‚è€ƒ<a href="https://circletech.blog.csdn.net/article/details/121974538?spm=1001.2101.3001.6650.4&amp;utm_medium=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-4-121974538-blog-104886339.pc_relevant_multi_platform_whitelistv4&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-4-121974538-blog-104886339.pc_relevant_multi_platform_whitelistv4&amp;utm_relevant_index=5" target="_blank" rel="noopener noreferrer">èµ„æ–™<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h3 id="æ—·è§†-å®ç°ä¸€ä¸ªç®€å•çš„æ™ºèƒ½æŒ‡é’ˆ"><a href="#æ—·è§†-å®ç°ä¸€ä¸ªç®€å•çš„æ™ºèƒ½æŒ‡é’ˆ" class="header-anchor">#</a> æ—·è§†-å®ç°ä¸€ä¸ªç®€å•çš„æ™ºèƒ½æŒ‡é’ˆ</h3> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">typename</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword">class</span> <span class="token class-name">SharedPointer</span> <span class="token punctuation">{</span>
<span class="token keyword">private</span><span class="token operator">:</span>
     T<span class="token operator">*</span> _ptr<span class="token punctuation">;</span>
     size_t<span class="token operator">*</span> _count<span class="token punctuation">;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
     <span class="token function">SharedPointer</span><span class="token punctuation">(</span>T<span class="token operator">*</span> ptr <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment">//è¡¥å……ä»£ç </span>
     <span class="token punctuation">}</span>

    SharedPointer<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> SharedPointer<span class="token operator">&amp;</span> smptr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//è¡¥å……ä»£ç </span>
    <span class="token punctuation">}</span>

    <span class="token operator">~</span><span class="token function">SharedPointer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//è¡¥å……ä»£ç </span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">typename</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword">class</span> <span class="token class-name">SharedPointer</span> <span class="token punctuation">{</span>
<span class="token keyword">private</span><span class="token operator">:</span>
     T<span class="token operator">*</span> _ptr<span class="token punctuation">;</span>
     size_t<span class="token operator">*</span> _count<span class="token punctuation">;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
     <span class="token function">SharedPointer</span><span class="token punctuation">(</span>T<span class="token operator">*</span> ptr <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">(</span><span class="token operator">*</span>_count<span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
        _ptr<span class="token operator">=</span>ptr<span class="token punctuation">;</span>
     <span class="token punctuation">}</span>

    SharedPointer<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> SharedPointer<span class="token operator">&amp;</span> smptr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token operator">==</span>smptr <span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span> 

        <span class="token keyword">if</span><span class="token punctuation">(</span> _ptr<span class="token operator">==</span>smptr<span class="token punctuation">.</span>_ptr <span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span><span class="token punctuation">{</span>
            <span class="token punctuation">(</span><span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token double-colon punctuation">::</span><span class="token operator">~</span><span class="token function">SharedPointer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            _ptr<span class="token operator">=</span>smptr<span class="token punctuation">.</span>_ptr<span class="token punctuation">;</span>
            smptr<span class="token punctuation">.</span><span class="token function">increace_ptr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//</span>
        <span class="token punctuation">}</span>
        
        <span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token operator">~</span><span class="token function">SharedPointer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token operator">--</span><span class="token punctuation">(</span><span class="token operator">*</span>_count<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token number">0</span><span class="token operator">==</span><span class="token punctuation">(</span><span class="token operator">*</span>_count<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">delete</span> _ptr<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><h2 id="å®ç°ä¸€ä¸ªunique-ptr-å¹¶ä¸”è®²ä¸€ä¸‹å…¶raii"><a href="#å®ç°ä¸€ä¸ªunique-ptr-å¹¶ä¸”è®²ä¸€ä¸‹å…¶raii" class="header-anchor">#</a> å®ç°ä¸€ä¸ªunique_ptrï¼Œå¹¶ä¸”è®²ä¸€ä¸‹å…¶RAII</h2> <p>å…ˆè¯´ç»“è®ºï¼Œæ™ºèƒ½æŒ‡é’ˆéƒ½æ˜¯éçº¿ç¨‹å®‰å…¨çš„ã€‚</p> <ul><li><p>å­¦è¿™ä¸ªï¼Œä¸€å®šè¦ä¼šmoveè¯­å¥ï¼Œ<code>std::move</code></p></li> <li><p>ä¸€æ—¦æ‹¥æœ‰ç€è¢«é”€æ¯æˆ–ç¼–ç¨‹ emptyï¼Œæˆ–å¼€å§‹æ‹¥æœ‰å¦ä¸€ä¸ªå¯¹è±¡ï¼Œå…ˆå‰æ‹¥æœ‰çš„é‚£ä¸ªå¯¹è±¡å°±ä¼šè¢«é”€æ¯ï¼Œå…¶ä»»ä½•ç›¸åº”èµ„æºäº¦ä¼šè¢«é‡Šæ”¾ã€‚</p></li> <li><p>å‚è€ƒèµ„æ–™ï¼šhttps://www.jianshu.com/p/77c2988be336</p></li></ul> <h2 id="å®ç°å•ä¾‹"><a href="#å®ç°å•ä¾‹" class="header-anchor">#</a> å®ç°å•ä¾‹</h2> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">class</span> <span class="token class-name">Singleton</span><span class="token punctuation">{</span>
<span class="token keyword">private</span><span class="token operator">:</span> <span class="token comment">//ç§æœ‰çš„</span>
    <span class="token function">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">Singleton</span><span class="token punctuation">(</span><span class="token keyword">const</span> Singleton<span class="token operator">&amp;</span> other<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">static</span> Singleton<span class="token operator">*</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">static</span> Singleton<span class="token operator">*</span> m_instance<span class="token punctuation">;</span>
    <span class="token keyword">static</span> pthread_mutex_t m_lock<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
Singleton<span class="token operator">*</span> Singleton<span class="token double-colon punctuation">::</span>m_instance<span class="token operator">=</span><span class="token keyword">nullptr</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token comment">//æ‡’æ±‰å¼</span>
<span class="token comment">//çº¿ç¨‹éå®‰å…¨ç‰ˆæœ¬</span>
Singleton<span class="token operator">*</span> <span class="token class-name">Singleton</span><span class="token double-colon punctuation">::</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>m_instance <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        m_instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> m_instance<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token comment">//æ‡’æ±‰å¼å­</span>
<span class="token comment">//çº¿ç¨‹å®‰å…¨ç‰ˆæœ¬ï¼Œä½†é”çš„ä»£ä»·è¿‡é«˜</span>
Singleton<span class="token operator">*</span> <span class="token class-name">Singleton</span><span class="token double-colon punctuation">::</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Lock lock<span class="token punctuation">;</span> <span class="token comment">//åŠ ä¸Šé”</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>m_instance <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        m_instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  
  	<span class="token comment">//è‡³æ­¤åŠ é”ç»“æŸ</span>
    <span class="token keyword">return</span> m_instance<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token comment">//æ‡’æ±‰å¼å­</span>
<span class="token comment">//çº¿ç¨‹å®‰å…¨ç‰ˆæœ¬ï¼Œä½†é”çš„ä»£ä»·è¿‡é«˜</span>
Singleton<span class="token operator">*</span> <span class="token class-name">Singleton</span><span class="token double-colon punctuation">::</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  	<span class="token function">pthread_mutex_lock</span><span class="token punctuation">(</span> <span class="token operator">&amp;</span>m_lock <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>m_instance <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        m_instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  	<span class="token function">pthread_mutex_unlock</span><span class="token punctuation">(</span> <span class="token operator">&amp;</span>m_lock<span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  	<span class="token comment">//è‡³æ­¤åŠ é”ç»“æŸ</span>
    <span class="token keyword">return</span> m_instance<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token comment">//åŒæ£€æŸ¥é”ï¼Œä½†ç”±äºå†…å­˜è¯»å†™reorderä¸å®‰å…¨</span>
Singleton<span class="token operator">*</span> <span class="token class-name">Singleton</span><span class="token double-colon punctuation">::</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
    <span class="token keyword">if</span><span class="token punctuation">(</span>m_instance<span class="token operator">==</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">//å¦‚æœç©ºï¼Œæ‰åŠ é”ï¼Œå¦‚æœä¸ç©ºï¼Œä¸ç”¨åŠ é”çš„ï¼</span>
        Lock lock<span class="token punctuation">;</span> <span class="token comment">//ï¼Ÿï¼Ÿï¼Ÿ</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>m_instance <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            m_instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token comment">//é”ç»“æŸ</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> m_instance<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>çœ‹èµ·æ¥å¾ˆå®Œç¾ï¼Œä½†æ˜¯å…¶å®è¿˜æ˜¯æœ‰é—®é¢˜ï¼š</p> <p>ç›¸å½“ä¸€æ®µæ—¶é—´ï¼Œè¿·æƒ‘äº†å¾ˆå¤šäººï¼ŒåŒ…æ‹¬å¾ˆå¤šä¸“å®¶ã€‚æœ€åä¸€ä¸ªjavaé¢†åŸŸçš„ä¸“å®¶çŸ¥é“äº†æ¼æ´ï¼š</p> <p>ç”±äºå†…å­˜è¯»å†™reorderä¸å®‰å…¨</p> <p>ä»€ä¹ˆå«reorderï¼Ÿä¼šå¯¼è‡´åŒæ£€æŸ¥é”çš„å¤±æ•ˆï¼</p> <p>å¸¸è§å‡è®¾ï¼š</p> <p>å…ˆæ„é€ å†…å­˜ï¼Œç„¶ånewï¼Œç„¶åæŠŠåœ°å€ç»™</p> <p>CPUå±‚é¢ï¼ŒæŒ‡ä»¤çº§åˆ«ï¼reorderæ„æ€æ˜¯é‡æ–°æ’åºï¼š</p> <p>ï¼ˆç¼–è¯‘å™¨ä¼˜åŒ–ä¼šå¯¼è‡´ï¼šï¼‰å…ˆåˆ†é…å†…å­˜ï¼ŒæŠŠåœ°å€ç»™</p> <p>reorderä¼˜åŒ–æ˜¯ï¼Œç¼–è¯‘å™¨å¹²çš„ï¼</p> <p>ç¬¬ä¸€æ—¶é—´ï¼Œè§£å†³æ–¹æ³•ï¼Œjavaå’Œ<code>C#</code>åŠ äº†ä¸ªå…³é”®å­—ï¼Œå«volatile</p> <p>éœ€è¦å¯¹<code>static Singleton* m_instance;</code>åŠ ä¸Šä¸€ä¸ªvolatileï¼Œè¿™æ ·ï¼Œç¼–è¯‘å™¨åœ¨ç¼–è¯‘å™¨çš„æ—¶å€™ï¼Œè¿‡ç¨‹ä¸èƒ½reorderçš„ã€‚æ˜¯è¦æŒ‰ç…§å¸¸è§„</p> <p>é‚£C++å‘¢ï¼Ÿ</p> <p>VC++2005ç‰ˆæœ¬è‡ªå®¶åŠ ä¸Šäº†volatileå…³é”®è¯ï¼Œä¸æ˜¯è·¨å¹³å°çš„ã€‚ä½†æ˜¯C++è¿½æ±‚è·¨å¹³å°çš„ï¼Œç›´åˆ°C++11åï¼Œæ‰èƒ½æœ‰æœºåˆ¶æ¥å®ç°è·¨å¹³å°çš„å®ç°ï¼Œå¦‚ä¸‹ï¼š</p> <h4 id="c-11çš„"><a href="#c-11çš„" class="header-anchor">#</a> C++11çš„</h4> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token comment">//C++ 11ç‰ˆæœ¬ä¹‹åçš„è·¨å¹³å°å®ç° (volatile)</span>
std<span class="token double-colon punctuation">::</span>atomic<span class="token operator">&lt;</span>Singleton<span class="token operator">*</span><span class="token operator">&gt;</span> Singleton<span class="token double-colon punctuation">::</span>m_instance<span class="token punctuation">;</span> <span class="token comment">//å£°æ˜ä¸€ä¸ªåŸå­å¯¹è±¡</span>
std<span class="token double-colon punctuation">::</span>mutex Singleton<span class="token double-colon punctuation">::</span>m_mutex<span class="token punctuation">;</span>

Singleton<span class="token operator">*</span> <span class="token class-name">Singleton</span><span class="token double-colon punctuation">::</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Singleton<span class="token operator">*</span> tmp <span class="token operator">=</span> m_instance<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>memory_order_relaxed<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è¿™ä¸ªå¯ä»¥å¸®åŠ©æˆ‘ä»¬å±è”½ç¼–è¯‘å™¨çš„reorder</span>
    std<span class="token double-colon punctuation">::</span><span class="token function">atomic_thread_fence</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>memory_order_acquire<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è·å–å†…å­˜fence</span>
  
    <span class="token keyword">if</span> <span class="token punctuation">(</span>tmp <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      
        std<span class="token double-colon punctuation">::</span>lock_guard<span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>mutex<span class="token operator">&gt;</span> <span class="token function">lock</span><span class="token punctuation">(</span>m_mutex<span class="token punctuation">)</span><span class="token punctuation">;</span>
        tmp <span class="token operator">=</span> m_instance<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>memory_order_relaxed<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//å–å˜é‡çš„æ—¶å€™ï¼Œä»¥è¿™ç§æ–¹å¼æ¥å–</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>tmp <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            tmp <span class="token operator">=</span> <span class="token keyword">new</span> Singleton<span class="token punctuation">;</span>
            std<span class="token double-colon punctuation">::</span><span class="token function">atomic_thread_fence</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>memory_order_release<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//é‡Šæ”¾å†…å­˜fence</span>
            m_instance<span class="token punctuation">.</span><span class="token function">store</span><span class="token punctuation">(</span>tmp<span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>memory_order_relaxed<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> tmp<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token comment">//C++ 11ç‰ˆæœ¬ä¹‹åçš„è·¨å¹³å°å®ç° (volatile)</span>
atomic<span class="token operator">&lt;</span>Singleton<span class="token operator">*</span><span class="token operator">&gt;</span> Singleton<span class="token double-colon punctuation">::</span>m_instance<span class="token punctuation">;</span> <span class="token comment">//å£°æ˜ä¸€ä¸ªåŸå­å¯¹è±¡</span>
mutex Singleton<span class="token double-colon punctuation">::</span>m_mutex<span class="token punctuation">;</span>

Singleton<span class="token operator">*</span> <span class="token class-name">Singleton</span><span class="token double-colon punctuation">::</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  
    Singleton<span class="token operator">*</span> tmp <span class="token operator">=</span> m_instance<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>memory_order_relaxed<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è¿™ä¸ªå¯ä»¥å¸®åŠ©æˆ‘ä»¬å±è”½ç¼–è¯‘å™¨çš„reorder</span>
    <span class="token function">atomic_thread_fence</span><span class="token punctuation">(</span>memory_order_acquire<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è·å–å†…å­˜fence</span>
  
    <span class="token keyword">if</span> <span class="token punctuation">(</span>tmp <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      
        std<span class="token double-colon punctuation">::</span>lock_guard<span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>mutex<span class="token operator">&gt;</span> <span class="token function">lock</span><span class="token punctuation">(</span>m_mutex<span class="token punctuation">)</span><span class="token punctuation">;</span>
        tmp <span class="token operator">=</span> m_instance<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>memory_order_relaxed<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//å–å˜é‡çš„æ—¶å€™ï¼Œä»¥è¿™ç§æ–¹å¼æ¥å–</span>
      
        <span class="token keyword">if</span> <span class="token punctuation">(</span>tmp <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            tmp <span class="token operator">=</span> <span class="token keyword">new</span> Singleton<span class="token punctuation">;</span>
          
            std<span class="token double-colon punctuation">::</span><span class="token function">atomic_thread_fence</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>memory_order_release<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//é‡Šæ”¾å†…å­˜fence</span>
            m_instance<span class="token punctuation">.</span><span class="token function">store</span><span class="token punctuation">(</span>tmp<span class="token punctuation">,</span> memory_order_relaxed<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> tmp<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h2 id="kä¸ª1ç»„åè½¬é“¾è¡¨"><a href="#kä¸ª1ç»„åè½¬é“¾è¡¨" class="header-anchor">#</a> kä¸ª1ç»„åè½¬é“¾è¡¨</h2> <ul><li>ä¸ªäººæ¨¡ç‰ˆï¼š<a href="https://leetcode.cn/problems/reverse-nodes-in-k-group/" target="_blank" rel="noopener noreferrer">https://leetcode.cn/problems/reverse-nodes-in-k-group/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <ul><li>è§£ä½“æ ¸å¿ƒï¼š
<ul><li>è¦æœ‰å“¨å…µ</li> <li>è¦æ³¨æ„ç¿»è½¬åçš„ä½ç½®</li> <li>è¦æ³¨æ„kä¸ªä¸€ç»„ï¼Œå¾ªç¯çš„æ—¶å€™æ˜¯å¾ªç¯k-1æ¬¡</li></ul></li></ul></li></ul> <img src="/assets/img/kä¸ªä¸€ç»„åè½¬é“¾è¡¨.e56889f2.png"> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token comment">/**
 * Definition for singly-linked list.
 * struct ListNode {
 *     int val;
 *     ListNode *next;
 *     ListNode() : val(0), next(nullptr) {}
 *     ListNode(int x) : val(x), next(nullptr) {}
 *     ListNode(int x, ListNode *next) : val(x), next(next) {}
 * };
 */</span>

<span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    ListNode<span class="token operator">*</span> <span class="token function">reverse</span><span class="token punctuation">(</span> ListNode <span class="token operator">*</span>head <span class="token punctuation">)</span><span class="token punctuation">{</span>
        ListNode <span class="token operator">*</span> sentry<span class="token operator">=</span><span class="token keyword">nullptr</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span> <span class="token keyword">nullptr</span><span class="token operator">!=</span>head <span class="token punctuation">)</span><span class="token punctuation">{</span>
            ListNode <span class="token operator">*</span>temp<span class="token operator">=</span>head<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>

            head<span class="token operator">-&gt;</span>next<span class="token operator">=</span>sentry<span class="token punctuation">;</span>
            sentry<span class="token operator">=</span>head<span class="token punctuation">;</span>
            head<span class="token operator">=</span>temp<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> sentry<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    ListNode<span class="token operator">*</span> <span class="token function">reverseKGroup</span><span class="token punctuation">(</span>ListNode<span class="token operator">*</span> head<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ListNode<span class="token operator">*</span> dummy<span class="token operator">=</span><span class="token keyword">new</span> <span class="token function">ListNode</span><span class="token punctuation">(</span> INT_MAX <span class="token punctuation">)</span><span class="token punctuation">;</span>

        ListNode<span class="token operator">*</span> preblock_tail<span class="token operator">=</span>dummy<span class="token punctuation">;</span>
        ListNode<span class="token operator">*</span> left_k<span class="token operator">=</span>head<span class="token punctuation">;</span>
        ListNode<span class="token operator">*</span> right_k<span class="token operator">=</span>head<span class="token punctuation">;</span>  <span class="token comment">//åˆå§‹ä½ç½®</span>
        ListNode<span class="token operator">*</span> nextblock_head<span class="token operator">=</span>head<span class="token punctuation">;</span> <span class="token comment">//æš‚æ—¶æœªçŸ¥</span>

        <span class="token comment">//å¦‚æœæ›´æ–°åçš„ï¼ŒååŠéƒ¨åˆ†é“¾è¡¨ä¸ä¸ºç©ºï¼Œæˆ‘ä»¬å°è¯•ä¸€ä¸‹</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span> <span class="token keyword">nullptr</span><span class="token operator">!=</span>nextblock_head <span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">//move right, k-1</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>k <span class="token operator">&amp;&amp;</span> <span class="token keyword">nullptr</span><span class="token operator">!=</span>right_k<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">{</span>
                right_k<span class="token operator">=</span>right_k<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token comment">//è¯´æ˜rightå’Œrightä¸è¶³k-1çš„è·ç¦»ï¼Œä¹Ÿå°±æ˜¯ã€leftï¼Œrightã€‘ä¸è¶³kä¸ª</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token keyword">nullptr</span><span class="token operator">==</span>right_k <span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            nextblock_head<span class="token operator">=</span>right_k<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
            right_k<span class="token operator">-&gt;</span>next<span class="token operator">=</span><span class="token keyword">nullptr</span><span class="token punctuation">;</span> <span class="token comment">//æˆªæ–­å’Œnextblockçš„è¿æ¥</span>

            <span class="token function">reverse</span><span class="token punctuation">(</span> left_k <span class="token punctuation">)</span><span class="token punctuation">;</span>

            preblock_tail<span class="token operator">-&gt;</span>next<span class="token operator">=</span>right_k<span class="token punctuation">;</span>
            left_k<span class="token operator">-&gt;</span>next<span class="token operator">=</span>nextblock_head<span class="token punctuation">;</span>

            <span class="token comment">//update data</span>
            preblock_tail<span class="token operator">=</span>left_k<span class="token punctuation">;</span>
            left_k<span class="token operator">=</span>nextblock_head<span class="token punctuation">;</span>
            right_k<span class="token operator">=</span>nextblock_head<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        ListNode<span class="token operator">*</span> ret<span class="token operator">=</span>dummy<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
        <span class="token keyword">delete</span> dummy<span class="token punctuation">;</span>
        <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br></div></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.19fd5ef1.js" defer></script><script src="/assets/js/2.82e96f38.js" defer></script><script src="/assets/js/1.6e29662b.js" defer></script><script src="/assets/js/23.cb26fc0f.js" defer></script>
  </body>
</html>
