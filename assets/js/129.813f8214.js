(window.webpackJsonp=window.webpackJsonp||[]).push([[129],{414:function(t,s,a){"use strict";a.r(s);var r=a(14),_=Object(r.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"mysqlçŸ¥è¯†ç‚¹æ€»ç»“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mysqlçŸ¥è¯†ç‚¹æ€»ç»“"}},[t._v("#")]),t._v(" MysqlçŸ¥è¯†ç‚¹æ€»ç»“")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("font "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("style")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"background:yellow"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("font "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("style")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"background: MediumSpringGreen"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("h2",{attrs:{id:"ç›®å½•"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç›®å½•"}},[t._v("#")]),t._v(" ç›®å½•")]),t._v(" "),s("p",[t._v("[TOC]")]),t._v(" "),s("p"),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#ç›®å½•"}},[t._v("ç›®å½•")])]),s("li",[s("a",{attrs:{href:"#å­¦ä¹ æ–¹æ³•è®º"}},[t._v("å­¦ä¹ æ–¹æ³•è®º")])]),s("li",[s("a",{attrs:{href:"#é¢è¯•é¢˜"}},[t._v("é¢è¯•é¢˜")]),s("ul",[s("li",[s("a",{attrs:{href:"#_1-mysqlçš„èšé›†ç´¢å¼•å’Œéèšé›†ç´¢å¼•"}},[t._v("1.MySQLçš„èšé›†ç´¢å¼•å’Œéèšé›†ç´¢å¼•")])]),s("li",[s("a",{attrs:{href:"#å®ç°äº‹åŠ¡å¿…é¡»è¦éµå®ˆ-4-ä¸ªç‰¹æ€§"}},[t._v("å®ç°äº‹åŠ¡å¿…é¡»è¦éµå®ˆ 4 ä¸ªç‰¹æ€§ï¼Ÿ")])]),s("li",[s("a",{attrs:{href:"#è¿›é˜¶-innodb-å¼•æ“é€šè¿‡ä»€ä¹ˆæŠ€æœ¯æ¥ä¿è¯äº‹åŠ¡çš„è¿™å››ä¸ªç‰¹æ€§çš„å‘¢"}},[t._v("è¿›é˜¶-InnoDB å¼•æ“é€šè¿‡ä»€ä¹ˆæŠ€æœ¯æ¥ä¿è¯äº‹åŠ¡çš„è¿™å››ä¸ªç‰¹æ€§çš„å‘¢ï¼Ÿ")])]),s("li",[s("a",{attrs:{href:"#_2-å¹¶è¡Œäº‹åŠ¡ä¼šå¼•å‘å“ª3ä¸ªé—®é¢˜-è¯¦ç»†ä»‹ç»ä¸€ä¸‹ä»€ä¹ˆæ˜¯è„è¯»ã€ä¸å¯é‡å¤è¯»ã€å¹»è¯»"}},[t._v("2.å¹¶è¡Œäº‹åŠ¡ä¼šå¼•å‘å“ª3ä¸ªé—®é¢˜ï¼Ÿè¯¦ç»†ä»‹ç»ä¸€ä¸‹ä»€ä¹ˆæ˜¯è„è¯»ã€ä¸å¯é‡å¤è¯»ã€å¹»è¯»")])]),s("li",[s("a",{attrs:{href:"#_3-è¯·ä½ è¯´ä¸€è¯´mysqlçš„å››ç§éš”ç¦»çŠ¶æ€-éš”ç¦»çº§åˆ«"}},[t._v("3.è¯·ä½ è¯´ä¸€è¯´mysqlçš„å››ç§éš”ç¦»çŠ¶æ€ï¼ˆéš”ç¦»çº§åˆ«ï¼‰")])]),s("li",[s("a",{attrs:{href:"#_4è¿›é˜¶é—®é¢˜-è¿™å››ç§éš”ç¦»çº§åˆ«å…·ä½“æ˜¯å¦‚ä½•å®ç°çš„å‘¢"}},[t._v("4è¿›é˜¶é—®é¢˜-è¿™å››ç§éš”ç¦»çº§åˆ«å…·ä½“æ˜¯å¦‚ä½•å®ç°çš„å‘¢ï¼Ÿ")])]),s("li",[s("a",{attrs:{href:"#_4-2-è¯·ä½ ä»‹ç»ä¸€ä¸‹mysqlçš„mvccæœºåˆ¶"}},[t._v("4.2.è¯·ä½ ä»‹ç»ä¸€ä¸‹mysqlçš„MVCCæœºåˆ¶")])]),s("li",[s("a",{attrs:{href:"#_4-3-è¯·é—®sqlä¼˜åŒ–æ–¹æ³•æœ‰å“ªäº›"}},[t._v("4.3.è¯·é—®SQLä¼˜åŒ–æ–¹æ³•æœ‰å“ªäº›")])]),s("li",[s("a",{attrs:{href:"#_4-4-è¯´ä¸€ä¸‹mysqlå¼•æ“çš„æ¦‚å¿µå’Œåˆ†ç±»"}},[t._v("4.4.è¯´ä¸€ä¸‹MySQLå¼•æ“çš„æ¦‚å¿µå’Œåˆ†ç±»")])]),s("li",[s("a",{attrs:{href:"#_4-5-è¯´ä¸€ä¸‹æœ€å¸¸ç”¨çš„2ä¸ªmysqlå¼•æ“innodbå’Œmylsamçš„å¯¹æ¯”"}},[t._v("4.5.è¯´ä¸€ä¸‹æœ€å¸¸ç”¨çš„2ä¸ªMySQLå¼•æ“InnoDBå’ŒMylsamçš„å¯¹æ¯”")])]),s("li",[s("a",{attrs:{href:"#æœ€å·¦åŒ¹é…åŸåˆ™çš„åŸç†"}},[t._v("æœ€å·¦åŒ¹é…åŸåˆ™çš„åŸç†")])])])]),s("li",[s("a",{attrs:{href:"#é™„å½•-æ­å»ºmysqlå­¦ä¹ ç¯å¢ƒ"}},[t._v("é™„å½•-æ­å»ºmysqlå­¦ä¹ ç¯å¢ƒ")])]),s("li",[s("a",{attrs:{href:"#å‚çœ‹èµ„æ–™"}},[t._v("å‚çœ‹èµ„æ–™")])])])]),s("p"),t._v(" "),s("h2",{attrs:{id:"å­¦ä¹ æ–¹æ³•è®º"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å­¦ä¹ æ–¹æ³•è®º"}},[t._v("#")]),t._v(" å­¦ä¹ æ–¹æ³•è®º")]),t._v(" "),s("p",[t._v("åˆ†æ¸…æ¥šæ¦‚å¿µä¸­ã€é€»è¾‘ä¸Šçš„ã€å’Œã€å®ç°å±‚é¢ä¸Šçš„ã€")]),t._v(" "),s("p",[t._v("å°†æ•°æ®ç»“æ„å’Œç®—æ³•ä¸­çš„ã€é€»è¾‘ç»“æ„ã€å’Œã€ç‰©ç†ç»“æ„ã€çš„æ¦‚å¿µï¼Œè½¬ç§»åˆ°ã€æ•°æ®åº“ã€çš„å­¦ä¹ ")]),t._v(" "),s("ul",[s("li",[t._v("å¦‚ä¸Šï¼š\n"),s("ul",[s("li",[s("strong",[t._v("é€»è¾‘")]),t._v("ä¸Šæœ‰ï¼šéš”ç¦»çº§åˆ«")]),t._v(" "),s("li",[s("strong",[t._v("ç‰©ç†å®ç°")]),t._v("ä¸Šæœ‰ï¼šMVCCå•¥çš„")])])]),t._v(" "),s("li",[t._v("ä¼˜ç‚¹ï¼š"),s("font",{staticStyle:{background:"yellow"}},[t._v("å°†å„ç§æœ¯è¯­æ¦‚å¿µè¿æ¥åœ¨ä¸€èµ·ï¼Œä»¥åå°±èƒ½å°‘è¢«ç½‘ä¸Šå±‚æ¬¡ä¸é½çš„èµ„æ–™æ¦‚å¿µå¸¦å")])],1)]),t._v(" "),s("h2",{attrs:{id:"é¢è¯•é¢˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é¢è¯•é¢˜"}},[t._v("#")]),t._v(" é¢è¯•é¢˜")]),t._v(" "),s("h3",{attrs:{id:"_1-mysqlçš„èšé›†ç´¢å¼•å’Œéèšé›†ç´¢å¼•"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-mysqlçš„èšé›†ç´¢å¼•å’Œéèšé›†ç´¢å¼•"}},[t._v("#")]),t._v(" 1.MySQLçš„èšé›†ç´¢å¼•å’Œéèšé›†ç´¢å¼•")]),t._v(" "),s("p",[t._v("èšé›†ç´¢å¼•å’Œéèšé›†ç´¢å¼•çš„æ ¹æœ¬åŒºåˆ«æ˜¯è¡¨è®°å½•çš„æ’åˆ—é¡ºåºå’Œä¸ç´¢å¼•çš„æ’åˆ—é¡ºåºæ˜¯å¦ä¸€è‡´ã€‚")]),t._v(" "),s("p",[t._v("1ã€èšé›†ç´¢å¼•")]),t._v(" "),s("p",[t._v("â€‹\tèšé›†ç´¢å¼•è¡¨è®°å½•çš„æ’åˆ—é¡ºåºå’Œç´¢å¼•çš„æ’åˆ—é¡ºåºä¸€è‡´ï¼ˆä»¥InnoDBèšé›†ç´¢å¼•çš„ä¸»é”®ç´¢å¼•æ¥è¯´ï¼Œå¶å­èŠ‚ç‚¹ä¸­å­˜å‚¨çš„å°±æ˜¯è¡Œæ•°æ®ï¼Œè¡Œæ•°æ®åœ¨ç‰©ç†å‚¨å™¨ä¸­çš„çœŸå®åœ°å€å°±æ˜¯æŒ‰ç…§ä¸»é”®ç´¢å¼•æ ‘å½¢æˆçš„é¡ºåºè¿›è¡Œæ’åˆ—çš„ï¼‰ï¼Œæ‰€ä»¥"),s("strong",[t._v("æŸ¥è¯¢æ•ˆç‡å¿«")]),t._v("ï¼Œåªè¦æ‰¾åˆ°ç¬¬ä¸€ä¸ªç´¢å¼•å€¼è®°å½•ï¼Œå…¶ä½™å°±è¿ç»­æ€§çš„è®°å½•åœ¨ç‰©ç†ä¹Ÿä¸€æ ·è¿ç»­å­˜æ”¾ã€‚èšé›†ç´¢å¼•å¯¹åº”çš„ç¼ºç‚¹å°±æ˜¯"),s("strong",[t._v("ä¿®æ”¹æ…¢")]),t._v("ï¼Œå› ä¸ºä¸ºäº†ä¿è¯è¡¨ä¸­è®°å½•çš„ç‰©ç†å’Œç´¢å¼•é¡ºåºä¸€è‡´ï¼Œåœ¨è®°å½•æ’å…¥çš„æ—¶å€™ï¼Œä¼šå¯¹æ•°æ®é¡µé‡æ–°æ’åºï¼ˆå› ä¸ºåœ¨çœŸå®ç‰©ç†å­˜å‚¨å™¨çš„å­˜å‚¨é¡ºåºåªèƒ½æœ‰ä¸€ç§ï¼Œè€Œæ’å…¥æ–°æ•°æ®å¿…ç„¶ä¼šå¯¼è‡´ä¸»é”®ç´¢å¼•æ ‘çš„å˜åŒ–ï¼Œä¸»é”®ç´¢å¼•æ ‘çš„é¡ºåºå‘ç”Ÿäº†æ”¹å˜ï¼Œå¶å­èŠ‚ç‚¹ä¸­å­˜å‚¨çš„è¡Œæ•°æ®ä¹Ÿè¦éšä¹‹è¿›è¡Œæ”¹å˜ï¼Œå°±ä¼šå‘ç”Ÿå¤§é‡çš„æ•°æ®ç§»åŠ¨æ“ä½œï¼Œæ‰€ä»¥æ•ˆç‡ä¼šæ…¢ï¼‰ã€‚"),s("strong",[t._v("å› ä¸ºåœ¨ç‰©ç†å†…å­˜ä¸­çš„é¡ºåºåªèƒ½æœ‰ä¸€ç§ï¼Œæ‰€ä»¥èšé›†ç´¢å¼•åœ¨ä¸€ä¸ªè¡¨ä¸­åªèƒ½æœ‰ä¸€ä¸ª")]),t._v("ã€‚")]),t._v(" "),s("p",[t._v("2ã€éèšé›†ç´¢å¼•")]),t._v(" "),s("p",[t._v("â€‹\téèšé›†ç´¢å¼•åˆ¶å®šäº†è¡¨ä¸­è®°å½•çš„é€»è¾‘é¡ºåºï¼Œä½†æ˜¯è®°å½•çš„ç‰©ç†å’Œç´¢å¼•ä¸ä¸€å®šä¸€è‡´ï¼ˆåœ¨é€»è¾‘ä¸Šæ•°æ®æ˜¯æŒ‰é¡ºåºæ’å­˜æ”¾çš„ï¼Œä½†æ˜¯ç‰©ç†ä¸Šåœ¨çœŸå®çš„å­˜å‚¨å™¨ä¸­æ˜¯æ•£åˆ—å­˜æ”¾çš„ï¼‰ï¼Œä¸¤ç§ç´¢å¼•éƒ½é‡‡ç”¨B+æ ‘ç»“æ„ï¼Œ**éèšé›†ç´¢å¼•çš„å¶å­å±‚å¹¶ä¸å’Œå®é™…æ•°æ®é¡µç›¸é‡å ï¼Œè€Œé‡‡ç”¨å¶å­å±‚åŒ…å«ä¸€ä¸ªæŒ‡å‘è¡¨ä¸­çš„è®°å½•åœ¨æ•°æ®é¡µä¸­çš„æŒ‡é’ˆæ–¹å¼ã€‚**éèšé›†ç´¢å¼•å±‚æ¬¡å¤šï¼Œä¸ä¼šé€ æˆæ•°æ®é‡æ’ã€‚æ‰€ä»¥å¦‚æœè¡¨çš„è¯»æ“ä½œè¿œè¿œå¤šäºå†™æ“ä½œï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨éèšé›†ç´¢å¼•ã€‚")]),t._v(" "),s("h3",{attrs:{id:"å®ç°äº‹åŠ¡å¿…é¡»è¦éµå®ˆ-4-ä¸ªç‰¹æ€§"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å®ç°äº‹åŠ¡å¿…é¡»è¦éµå®ˆ-4-ä¸ªç‰¹æ€§"}},[t._v("#")]),t._v(" å®ç°äº‹åŠ¡å¿…é¡»è¦éµå®ˆ 4 ä¸ªç‰¹æ€§ï¼Ÿ")]),t._v(" "),s("p",[s("strong",[t._v("åŸå­æ€§ï¼ˆAtomicityï¼‰")]),t._v("ï¼šä¸€ä¸ªäº‹åŠ¡ä¸­çš„æ‰€æœ‰æ“ä½œï¼Œè¦ä¹ˆå…¨éƒ¨å®Œæˆï¼Œè¦ä¹ˆå…¨éƒ¨ä¸å®Œæˆï¼Œä¸ä¼šç»“æŸåœ¨ä¸­é—´æŸä¸ªç¯èŠ‚ï¼Œè€Œä¸”äº‹åŠ¡åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯ï¼Œä¼šè¢«å›æ»šåˆ°äº‹åŠ¡å¼€å§‹å‰çš„çŠ¶æ€ï¼Œå°±åƒè¿™ä¸ªäº‹åŠ¡ä»æ¥æ²¡æœ‰æ‰§è¡Œè¿‡ä¸€æ ·ï¼Œ")]),t._v(" "),s("p",[s("strong",[t._v("æŒä¹…æ€§ï¼ˆDurabilityï¼‰")]),t._v("ï¼šäº‹åŠ¡å¤„ç†ç»“æŸåï¼Œå¯¹æ•°æ®çš„ä¿®æ”¹å°±æ˜¯æ°¸ä¹…çš„ï¼Œå³ä¾¿ç³»"),s("strong",[t._v("ç»Ÿæ•…éšœä¹Ÿä¸ä¼šä¸¢å¤±")]),t._v("ã€Œå› ä¸ºæœ‰"),s("font",{staticStyle:{background:"yellow"}},[t._v("redoæ—¥å¿—")]),t._v("ã€")],1),t._v(" "),s("p",[s("strong",[t._v("éš”ç¦»æ€§ï¼ˆIsolationï¼‰")]),t._v("ï¼šæ•°æ®åº“å…è®¸å¤šä¸ªå¹¶å‘äº‹åŠ¡åŒæ—¶å¯¹å…¶æ•°æ®è¿›è¡Œè¯»å†™å’Œä¿®æ”¹çš„èƒ½åŠ›ï¼Œéš”ç¦»æ€§å¯ä»¥é˜²æ­¢å¤šä¸ªäº‹åŠ¡å¹¶å‘æ‰§è¡Œæ—¶ç”±äºäº¤å‰æ‰§è¡Œè€Œå¯¼è‡´æ•°æ®çš„ä¸ä¸€è‡´ï¼Œå› ä¸ºå¤šä¸ªäº‹åŠ¡åŒæ—¶ä½¿ç”¨ç›¸åŒçš„æ•°æ®æ—¶ï¼Œä¸ä¼šç›¸äº’å¹²æ‰°ï¼Œæ¯ä¸ªäº‹åŠ¡éƒ½æœ‰ä¸€ä¸ªå®Œæ•´çš„æ•°æ®ç©ºé—´ï¼Œå¯¹å…¶ä»–å¹¶å‘äº‹åŠ¡æ˜¯éš”ç¦»çš„ã€‚")]),t._v(" "),s("p",[s("strong",[t._v("ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰")]),t._v("ï¼šæ˜¯æŒ‡äº‹åŠ¡æ“ä½œå‰å’Œæ“ä½œåï¼Œæ•°æ®æ»¡è¶³"),s("font",{staticStyle:{background:"yellow"}},[t._v("ã€Œå®Œæ•´æ€§çº¦æŸã€")]),t._v("ï¼Œæ•°æ®åº“ä¿æŒä¸€è‡´æ€§çŠ¶æ€ã€‚")],1),t._v(" "),s("p",[t._v("â€‹\tæˆ‘çš„ç†è§£ï¼šäº‹åŠ¡æ“ä½œå‰åˆ°åçš„"),s("strong",[t._v("çŠ¶æ€")]),t._v("ï¼Œé€šè¿‡é€†å‘æ“ä½œï¼Œæ˜¯"),s("font",{staticStyle:{background:"yellow"}},[t._v("å¯é€†çš„")]),t._v("ï¼")],1),t._v(" "),s("h3",{attrs:{id:"è¿›é˜¶-innodb-å¼•æ“é€šè¿‡ä»€ä¹ˆæŠ€æœ¯æ¥ä¿è¯äº‹åŠ¡çš„è¿™å››ä¸ªç‰¹æ€§çš„å‘¢"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è¿›é˜¶-innodb-å¼•æ“é€šè¿‡ä»€ä¹ˆæŠ€æœ¯æ¥ä¿è¯äº‹åŠ¡çš„è¿™å››ä¸ªç‰¹æ€§çš„å‘¢"}},[t._v("#")]),t._v(" è¿›é˜¶-InnoDB å¼•æ“é€šè¿‡ä»€ä¹ˆæŠ€æœ¯æ¥ä¿è¯äº‹åŠ¡çš„è¿™å››ä¸ªç‰¹æ€§çš„å‘¢ï¼Ÿ")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("æŒä¹…æ€§")]),t._v("æ˜¯é€šè¿‡ redo log ï¼ˆé‡åšæ—¥å¿—ï¼‰æ¥ä¿è¯çš„ï¼›")]),t._v(" "),s("li",[s("strong",[t._v("åŸå­æ€§")]),t._v("æ˜¯é€šè¿‡ "),s("strong",[t._v("undo logï¼ˆå›æ»šæ—¥å¿—ï¼‰")]),t._v(" æ¥ä¿è¯çš„ï¼›")]),t._v(" "),s("li",[s("strong",[t._v("éš”ç¦»æ€§")]),t._v("æ˜¯é€šè¿‡ MVCCï¼ˆå¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ï¼‰ æˆ–é”æœºåˆ¶æ¥ä¿è¯çš„ï¼›ï¼ˆæˆ‘è§‰å¾—è¿˜æœ‰å•¥ä¹Ÿä¸ç®¡çš„ï¼Œé©¬ä¸åœè¹„çš„è¯»ï¼‰")]),t._v(" "),s("li",[s("font",{staticStyle:{background:"yellow"}},[t._v("ä¸€è‡´æ€§")]),t._v("åˆ™æ˜¯é€šè¿‡æŒä¹…æ€§+åŸå­æ€§+éš”ç¦»æ€§æ¥ä¿è¯ï¼›")],1)]),t._v(" "),s("h3",{attrs:{id:"_2-å¹¶è¡Œäº‹åŠ¡ä¼šå¼•å‘å“ª3ä¸ªé—®é¢˜-è¯¦ç»†ä»‹ç»ä¸€ä¸‹ä»€ä¹ˆæ˜¯è„è¯»ã€ä¸å¯é‡å¤è¯»ã€å¹»è¯»"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-å¹¶è¡Œäº‹åŠ¡ä¼šå¼•å‘å“ª3ä¸ªé—®é¢˜-è¯¦ç»†ä»‹ç»ä¸€ä¸‹ä»€ä¹ˆæ˜¯è„è¯»ã€ä¸å¯é‡å¤è¯»ã€å¹»è¯»"}},[t._v("#")]),t._v(" 2.å¹¶è¡Œäº‹åŠ¡ä¼šå¼•å‘å“ª3ä¸ªé—®é¢˜ï¼Ÿè¯¦ç»†ä»‹ç»ä¸€ä¸‹ä»€ä¹ˆæ˜¯è„è¯»ã€ä¸å¯é‡å¤è¯»ã€å¹»è¯»")]),t._v(" "),s("p",[t._v("3ç§é—®é¢˜ï¼Œå› ä¸ºMySQL æœåŠ¡ç«¯æ˜¯å…è®¸å¤šä¸ªå®¢æˆ·ç«¯è¿æ¥çš„ï¼Œè¿™æ„å‘³ç€ MySQL ä¼šå‡ºç°"),s("strong",[t._v("åŒæ—¶å¤„ç†å¤šä¸ªäº‹åŠ¡")]),t._v("çš„æƒ…å†µã€‚")]),t._v(" "),s("h4",{attrs:{id:"é—®é¢˜ä¸¥é‡ç¨‹åº¦ä»1-3å˜éº»çƒ¦"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é—®é¢˜ä¸¥é‡ç¨‹åº¦ä»1-3å˜éº»çƒ¦"}},[t._v("#")]),t._v(" é—®é¢˜ä¸¥é‡ç¨‹åº¦ä»1->3å˜éº»çƒ¦ï¼")]),t._v(" "),s("p",[t._v("â€‹\tæˆ‘ä»¬æåˆ°ï¼Œå½“å¤šä¸ªäº‹åŠ¡å¹¶å‘æ‰§è¡Œæ—¶å¯èƒ½ä¼šé‡åˆ°ã€Œè„è¯»ã€ä¸å¯é‡å¤è¯»ã€å¹»è¯»ã€çš„ç°è±¡ï¼Œè¿™äº›ç°è±¡ä¼šå¯¹äº‹åŠ¡çš„ä¸€è‡´æ€§äº§ç”Ÿä¸åŒç¨‹åºçš„å½±å“ã€‚")]),t._v(" "),s("ul",[s("li",[t._v("è„è¯»ï¼šè¯»åˆ°"),s("strong",[t._v("å…¶ä»–äº‹åŠ¡æœªæäº¤")]),t._v("çš„æ•°æ®ï¼›")]),t._v(" "),s("li",[t._v("ä¸å¯é‡å¤è¯»ï¼šå‰å"),s("strong",[t._v("è¯»å–")]),t._v("çš„æ•°æ®ä¸ä¸€è‡´ï¼›")]),t._v(" "),s("li",[t._v("å¹»è¯»ï¼šå‰å"),s("strong",[t._v("ç»Ÿè®¡")]),t._v("çš„è®°å½•æ•°é‡ä¸ä¸€è‡´ã€‚")])]),t._v(" "),s("p",[t._v("ä¸¥é‡æ€§æ’åºï¼š"),s("font",{staticStyle:{background:"yellow"}},[t._v("å¹»è¯»>ä¸å¯é‡å¤è¯»>è„è¯»")])],1),t._v(" "),s("h4",{attrs:{id:"_1-è„è¯»"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-è„è¯»"}},[t._v("#")]),t._v(" 1.è„è¯»")]),t._v(" "),s("p",[t._v("2ä¸ªäº‹åŠ¡æ“ä½œï¼ŒAäº‹åŠ¡è¯»å†™æ•°åä¿®æ”¹æ•°æ®çš„æ—¶å€™ï¼ŒBäº‹ç‰©è¿›è¡Œäº†è¯»å–ï¼Œç„¶åAäº‹ç‰©åç»­åˆå›æ»šäº†ï¼Œé‚£ä¹ˆBå°±æ˜¯è¯»å–åˆ°äº†è„æ•°æ®ï¼")]),t._v(" "),s("p",[s("strong",[t._v("å¦‚æœä¸€ä¸ªBäº‹åŠ¡ã€Œè¯»åˆ°ã€äº†å¦ä¸€ä¸ªAã€Œ"),s("font",{staticStyle:{background:"yellow"}},[t._v("æœªæäº¤äº‹åŠ¡")]),t._v("ä¿®æ”¹è¿‡çš„æ•°æ®(å› ä¸ºäº‹åŠ¡ A æ˜¯è¿˜æ²¡æäº¤äº‹åŠ¡çš„ï¼Œä¹Ÿå°±æ˜¯å®ƒéšæ—¶å¯èƒ½å‘ç”Ÿå›æ»šæ“ä½œï¼Œ"),s("strong",[t._v("å¦‚æœåœ¨ä¸Šé¢è¿™ç§æƒ…å†µäº‹åŠ¡ A å‘ç”Ÿäº†å›æ»šï¼Œé‚£ä¹ˆäº‹åŠ¡ B åˆšæ‰å¾—åˆ°çš„æ•°æ®å°±æ˜¯è¿‡æœŸçš„æ•°æ®ï¼Œè¿™ç§ç°è±¡å°±è¢«ç§°ä¸ºè„è¯»ã€‚")]),t._v(")ã€ï¼Œå°±æ„å‘³ç€å‘ç”Ÿäº†ã€Œè„è¯»ã€ç°è±¡ã€‚")],1)]),t._v(" "),s("h4",{attrs:{id:"_2-ä¸å¯é‡å¤è¯»"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-ä¸å¯é‡å¤è¯»"}},[t._v("#")]),t._v(" 2.ä¸å¯é‡å¤è¯»")]),t._v(" "),s("p",[s("font",{staticStyle:{background:"yellow"}},[t._v("selectæ“ä½œï¼ˆæŸ¥è¯¢æ“ä½œï¼‰")]),t._v("ï¼Œåœ¨1ä¸ªäº‹åŠ¡ä¸­è¿›è¡Œå‰å2æ¬¡æŸ¥è¯¢ï¼Œå‘ç°æŸ¥è¯¢ç»“æœä¸ä¸€è‡´ï¼")],1),t._v(" "),s("h4",{attrs:{id:"_3-å¹»è¯»"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-å¹»è¯»"}},[t._v("#")]),t._v(" 3.å¹»è¯»")]),t._v(" "),s("p",[s("font",{staticStyle:{background:"yellow"}},[t._v("countæ“ä½œï¼ˆç»Ÿè®¡æ“ä½œï¼‰")]),t._v("ï¼Œåœ¨1ä¸ªäº‹åŠ¡ä¸­è¿›è¡Œå‰å2æ¬¡ç»Ÿè®¡ï¼Œå‘ç°ç»“æœä¸ä¸€è‡´")],1),t._v(" "),s("p",[s("strong",[t._v("åœ¨ä¸€ä¸ªäº‹åŠ¡å†…å¤šæ¬¡æŸ¥è¯¢ï¼ˆç»Ÿè®¡ï¼‰æŸä¸ªç¬¦åˆæŸ¥è¯¢æ¡ä»¶çš„ã€Œè®°å½•æ•°é‡ã€ï¼Œå¦‚æœå‡ºç°å‰åä¸¤æ¬¡æŸ¥è¯¢åˆ°çš„è®°å½•æ•°é‡ä¸ä¸€æ ·çš„æƒ…å†µï¼Œå°±æ„å‘³ç€å‘ç”Ÿäº†ã€Œå¹»è¯»ã€ç°è±¡ã€‚")])]),t._v(" "),s("h3",{attrs:{id:"_3-è¯·ä½ è¯´ä¸€è¯´mysqlçš„å››ç§éš”ç¦»çŠ¶æ€-éš”ç¦»çº§åˆ«"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-è¯·ä½ è¯´ä¸€è¯´mysqlçš„å››ç§éš”ç¦»çŠ¶æ€-éš”ç¦»çº§åˆ«"}},[t._v("#")]),t._v(" 3.è¯·ä½ è¯´ä¸€è¯´mysqlçš„å››ç§éš”ç¦»çŠ¶æ€ï¼ˆéš”ç¦»çº§åˆ«ï¼‰")]),t._v(" "),s("p",[t._v("â€‹\tæˆ‘ä»¬æåˆ°ï¼Œå½“å¤šä¸ªäº‹åŠ¡å¹¶å‘æ‰§è¡Œæ—¶å¯èƒ½ä¼šé‡åˆ°ã€Œè„è¯»ã€ä¸å¯é‡å¤è¯»ã€å¹»è¯»ã€çš„ç°è±¡ï¼Œè¿™äº›ç°è±¡ä¼šå¯¹äº‹åŠ¡çš„ä¸€è‡´æ€§äº§ç”Ÿä¸åŒç¨‹åºçš„å½±å“ã€‚")]),t._v(" "),s("p",[t._v("â€‹\tSQL æ ‡å‡†æå‡ºäº†å››ç§éš”ç¦»çº§åˆ«"),s("strong",[t._v("æ¥è§„é¿è¿™äº›ç°è±¡")]),t._v("ï¼Œ"),s("strong",[t._v("éš”ç¦»çº§åˆ«è¶Šé«˜ï¼Œæ€§èƒ½æ•ˆç‡å°±è¶Šä½")]),t._v("ï¼Œè¿™å››ä¸ªéš”ç¦»çº§åˆ«å¦‚ä¸‹ï¼š")]),t._v(" "),s("p",[t._v("âœ…è¡¨ç¤ºè§£å†³äº†ï¼")]),t._v(" "),s("h4",{attrs:{id:"_4å¤§ç±»-éš”ç¦»çº§åˆ«ä»1-4å˜é«˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4å¤§ç±»-éš”ç¦»çº§åˆ«ä»1-4å˜é«˜"}},[t._v("#")]),t._v(" 4å¤§ç±»ï¼šéš”ç¦»çº§åˆ«ä»1->4å˜é«˜")]),t._v(" "),s("h4",{attrs:{id:"_1-è¯»æœªæäº¤-read-uncommitted"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-è¯»æœªæäº¤-read-uncommitted"}},[t._v("#")]),t._v(" 1.è¯»æœªæäº¤ï¼ˆread-uncommittedï¼‰")]),t._v(" "),s("p",[t._v("æŒ‡"),s("strong",[t._v("ä¸€ä¸ªäº‹åŠ¡è¿˜æ²¡æäº¤æ—¶")]),t._v("ï¼Œå®ƒåšçš„"),s("strong",[t._v("å˜æ›´")]),t._v("å°±èƒ½è¢«å…¶ä»–äº‹åŠ¡çœ‹åˆ°ï¼ˆè¿™å•¥ä¹Ÿæ²¡å¹²ï¼Œæ”¾ä»»ä¸ç®¡ï¼ï¼‰")]),t._v(" "),s("p",[t._v("å­˜åœ¨çš„é—®é¢˜ï¼š")]),t._v(" "),s("p",[t._v("ğŸš«è„è¯»ï¼ˆå®šä¹‰å°±æ˜¯è¯´æ˜è¿™ä¸ªæ²¡è§£å†³ï¼‰")]),t._v(" "),s("p",[t._v("ğŸš«ä¸å¯é‡å¤è¯»ï¼ˆæ˜¾ç„¶ï¼Œæ¨ç†å®¹æ˜“çŸ¥é“ï¼‰")]),t._v(" "),s("p",[t._v("ğŸš«å¹»è¯»ï¼ˆæ˜¾ç„¶ï¼Œè¿›ä¸€æ­¥æ¨ç†ä¹Ÿè§£å†³ä¸äº†ï¼‰")]),t._v(" "),s("h4",{attrs:{id:"_2-è¯»æäº¤-read-committed-åå­—è§£å†³äº†-è¯»éæäº¤-å³è„è¯»"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-è¯»æäº¤-read-committed-åå­—è§£å†³äº†-è¯»éæäº¤-å³è„è¯»"}},[t._v("#")]),t._v(" 2."),s("strong",[t._v("è¯»æäº¤ï¼ˆread committedï¼‰")]),t._v("-"),s("font",{staticStyle:{background:"yellow"}},[t._v("åå­—è§£å†³äº†ï¼šè¯»éæäº¤ï¼ˆå³è„è¯»ï¼‰")])],1),t._v(" "),s("p",[t._v("æŒ‡"),s("strong",[t._v("ä¸€ä¸ªäº‹åŠ¡æäº¤ä¹‹å")]),t._v("ï¼Œå®ƒåšçš„å˜æ›´"),s("strong",[t._v("æ‰èƒ½")]),t._v("è¢«å…¶ä»–äº‹åŠ¡çœ‹åˆ°ï¼›ï¼ˆå°±æ˜¯æ¯”ç¬¬1çº§åˆ«ï¼Œçº¦æŸäº†ä¸€ä¸‹ï¼Œå¿…é¡»äº‹åŠ¡æäº¤äº†æ‰èƒ½è¢«çœ‹åˆ°ï¼‰")]),t._v(" "),s("p",[t._v("è§£å†³çš„é—®é¢˜ï¼š")]),t._v(" "),s("p",[t._v("âœ…è„è¯»")]),t._v(" "),s("p",[t._v("å­˜åœ¨çš„é—®é¢˜ï¼š")]),t._v(" "),s("p",[t._v("ğŸš«ä¸å¯é‡å¤è¯»ï¼ˆæ˜¾ç„¶ï¼Œæ¨ç†å®¹æ˜“çŸ¥é“ï¼‰")]),t._v(" "),s("p",[t._v("ğŸš«å¹»è¯»ï¼ˆæ˜¾ç„¶ï¼Œè¿›ä¸€æ­¥æ¨ç†ä¹Ÿè§£å†³ä¸äº†ï¼‰")]),t._v(" "),s("h4",{attrs:{id:"_3-å¯é‡å¤è¯»-repeatable-read-åå­—è§£å†³äº†-ä¸å¯é‡å¤è¯»"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-å¯é‡å¤è¯»-repeatable-read-åå­—è§£å†³äº†-ä¸å¯é‡å¤è¯»"}},[t._v("#")]),t._v(" 3."),s("strong",[t._v("å¯é‡å¤è¯»ï¼ˆrepeatable readï¼‰")]),s("font",{staticStyle:{background:"yellow"}},[t._v("åå­—è§£å†³äº†ï¼šä¸å¯é‡å¤è¯»")])],1),t._v(" "),s("p",[t._v("æŒ‡ä¸€ä¸ªäº‹åŠ¡"),s("strong",[t._v("æ‰§è¡Œè¿‡ç¨‹")]),t._v("ä¸­çœ‹åˆ°çš„æ•°æ®ï¼Œä¸€ç›´è·Ÿè¿™ä¸ªäº‹åŠ¡"),s("strong",[t._v("å¯åŠ¨æ—¶")]),t._v("çœ‹åˆ°çš„æ•°æ®æ˜¯ä¸€è‡´çš„ï¼Œ"),s("strong",[s("font",{staticStyle:{background:"yellow"}},[t._v("MySQL InnoDB å¼•æ“çš„é»˜è®¤éš”ç¦»çº§åˆ«")])],1),t._v("ï¼›")]),t._v(" "),s("p",[t._v("è§£å†³çš„é—®é¢˜ï¼š")]),t._v(" "),s("p",[t._v("âœ…è„è¯»")]),t._v(" "),s("p",[t._v("âœ…ä¸å¯é‡å¤è¯»")]),t._v(" "),s("p",[t._v("å­˜åœ¨çš„é—®é¢˜ï¼š")]),t._v(" "),s("p",[t._v("ğŸš«å¹»è¯»ï¼ˆæ˜¾ç„¶ï¼Œè¿›ä¸€æ­¥æ¨ç†ä¹Ÿè§£å†³ä¸äº†ï¼‰")]),t._v(" "),s("h4",{attrs:{id:"é¢è¯•æ‰©å±•"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é¢è¯•æ‰©å±•"}},[t._v("#")]),t._v(" é¢è¯•æ‰©å±•ï¼š")]),t._v(" "),s("p",[t._v("â€‹\tä¸åŒçš„æ•°æ®åº“å‚å•†å¯¹ SQL æ ‡å‡†ä¸­è§„å®šçš„ 4 ç§éš”ç¦»çº§åˆ«çš„æ”¯æŒä¸ä¸€æ ·ï¼Œæœ‰çš„æ•°æ®åº“åªå®ç°äº†å…¶ä¸­å‡ ç§éš”ç¦»çº§åˆ«ï¼Œ"),s("strong",[t._v("æˆ‘ä»¬è®¨è®ºçš„ "),s("font",{staticStyle:{background:"yellow"}},[t._v("MySQL è™½ç„¶æ”¯æŒ 4 ç§éš”ç¦»çº§åˆ«ï¼Œä½†æ˜¯ä¸SQL æ ‡å‡†ä¸­è§„å®šçš„å„çº§éš”ç¦»çº§åˆ«å…è®¸å‘ç”Ÿçš„ç°è±¡å´æœ‰äº›å‡ºå…¥")])],1),t._v("ã€‚")]),t._v(" "),s("p",[t._v("â€‹\tMySQL åœ¨ã€Œå¯é‡å¤è¯»ã€éš”ç¦»çº§åˆ«ä¸‹ï¼Œå¯ä»¥"),s("font",{staticStyle:{background:"yellow"}},[t._v("å¾ˆå¤§ç¨‹åº¦ä¸Šé¿å…å¹»è¯»ç°è±¡çš„å‘ç”Ÿï¼ˆæ³¨æ„æ˜¯å¾ˆå¤§ç¨‹åº¦é¿å…ï¼Œå¹¶ä¸æ˜¯å½»åº•é¿å…")]),t._v("ï¼‰ï¼Œæ‰€ä»¥ MySQL å¹¶ä¸ä¼šä½¿ç”¨ã€Œä¸²è¡ŒåŒ–ã€éš”ç¦»çº§åˆ«æ¥é¿å…å¹»è¯»ç°è±¡çš„å‘ç”Ÿï¼Œå› ä¸ºä½¿ç”¨ã€Œä¸²è¡ŒåŒ–ã€éš”ç¦»çº§åˆ«ä¼š"),s("strong",[t._v("å½±å“æ€§èƒ½")]),t._v("ã€‚")],1),t._v(" "),s("p",[t._v("â€‹\t"),s("strong",[t._v("MySQL InnoDB å¼•æ“çš„é»˜è®¤éš”ç¦»çº§åˆ«è™½ç„¶æ˜¯ã€Œå¯é‡å¤è¯»ã€ï¼Œä½†æ˜¯å®ƒå¾ˆå¤§ç¨‹åº¦ä¸Šé¿å…å¹»è¯»ç°è±¡ï¼ˆå¹¶ä¸æ˜¯å®Œå…¨è§£å†³äº†ï¼Œè¯¦è§è¿™ç¯‡"),s("a",{attrs:{href:"https://xiaolincoding.com/mysql/transaction/phantom.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("æ–‡ç«  (opens new window)"),s("OutboundLink")],1),t._v("ï¼‰")]),t._v("ï¼Œ"),s("font",{staticStyle:{background:"MediumSpringGreen"}},[t._v("è§£å†³çš„æ–¹æ¡ˆæœ‰ä¸¤ç§")]),t._v("ï¼š")],1),t._v(" "),s("ul",[s("li",[t._v("é’ˆå¯¹**"),s("font",{staticStyle:{background:"MediumSpringGreen"}},[t._v("å¿«ç…§è¯»")]),s("strong",[t._v("ï¼ˆæ™®é€š select è¯­å¥ï¼‰ï¼Œæ˜¯")]),t._v("é€šè¿‡ "),s("font",{staticStyle:{background:"MediumSpringGreen"}},[t._v("MVCC æ–¹å¼")]),t._v("è§£å†³äº†å¹»è¯»**ï¼Œå› ä¸ºå¯é‡å¤è¯»éš”ç¦»çº§åˆ«ä¸‹ï¼Œäº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­çœ‹åˆ°çš„æ•°æ®ï¼Œä¸€ç›´è·Ÿè¿™ä¸ªäº‹åŠ¡å¯åŠ¨æ—¶çœ‹åˆ°çš„æ•°æ®æ˜¯ä¸€è‡´çš„ï¼Œå³ä½¿ä¸­é€”æœ‰å…¶ä»–äº‹åŠ¡æ’å…¥äº†ä¸€æ¡æ•°æ®ï¼Œæ˜¯æŸ¥è¯¢ä¸å‡ºæ¥è¿™æ¡æ•°æ®çš„ï¼Œæ‰€ä»¥å°±å¾ˆå¥½äº†é¿å…å¹»è¯»é—®é¢˜ã€‚")],1),t._v(" "),s("li",[t._v("é’ˆå¯¹**"),s("font",{staticStyle:{background:"MediumSpringGreen"}},[t._v("å½“å‰è¯»")]),s("strong",[t._v("ï¼ˆselect ... for update ç­‰è¯­å¥ï¼‰ï¼Œæ˜¯")]),t._v("é€šè¿‡ "),s("font",{staticStyle:{background:"MediumSpringGreen"}},[t._v("next-key lockï¼ˆè®°å½•é”+é—´éš™é”ï¼‰")]),t._v("æ–¹å¼è§£å†³äº†å¹»è¯»**ï¼Œå› ä¸ºå½“æ‰§è¡Œ "),s("code",[t._v("select ... for update")]),t._v(" è¯­å¥çš„æ—¶å€™ï¼Œä¼šåŠ ä¸Š next-key lockï¼Œå¦‚æœ"),s("strong",[t._v("æœ‰å…¶ä»–äº‹åŠ¡")]),t._v("åœ¨ next-key lock é”èŒƒå›´å†…æ’å…¥äº†ä¸€æ¡è®°å½•ï¼Œé‚£ä¹ˆ"),s("strong",[t._v("è¿™ä¸ªæ’å…¥è¯­å¥å°±ä¼šè¢«é˜»å¡ï¼Œæ— æ³•æˆåŠŸæ’å…¥")]),t._v("ï¼Œæ‰€ä»¥å°±å¾ˆå¥½äº†é¿å…å¹»è¯»é—®é¢˜ã€‚")],1)]),t._v(" "),s("h4",{attrs:{id:"_4-ä¸²è¡ŒåŒ–-serializable-æ— è„‘ä¸Šå¤§é”-å•¥éƒ½èƒ½è§£å†³"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-ä¸²è¡ŒåŒ–-serializable-æ— è„‘ä¸Šå¤§é”-å•¥éƒ½èƒ½è§£å†³"}},[t._v("#")]),t._v(" 4."),s("strong",[t._v("ä¸²è¡ŒåŒ–ï¼ˆserializableï¼‰")]),s("font",{staticStyle:{background:"yellow"}},[t._v("æ— è„‘ä¸Šå¤§é”ï¼Œå•¥éƒ½èƒ½è§£å†³")])],1),t._v(" "),s("p",[t._v("â€‹\t"),s("strong",[t._v("å¯¹è®°å½•åŠ ä¸Šè¯»å†™é”")]),t._v("ï¼Œåœ¨å¤šä¸ªäº‹åŠ¡å¯¹è¿™æ¡è®°å½•è¿›è¡Œè¯»å†™æ“ä½œæ—¶ï¼Œå¦‚æœå‘ç”Ÿäº†è¯»å†™å†²çªçš„æ—¶å€™ï¼Œåè®¿é—®çš„äº‹åŠ¡å¿…é¡»ç­‰å‰ä¸€ä¸ªäº‹åŠ¡æ‰§è¡Œå®Œæˆï¼Œæ‰èƒ½ç»§ç»­æ‰§è¡Œï¼›")]),t._v(" "),s("p",[t._v("è§£å†³çš„é—®é¢˜ï¼š")]),t._v(" "),s("p",[t._v("âœ…è„è¯»")]),t._v(" "),s("p",[t._v("âœ…ä¸å¯é‡å¤è¯»")]),t._v(" "),s("p",[t._v("âœ…å¹»è¯»")]),t._v(" "),s("p",[t._v("ä¸å­˜åœ¨ï¼Œå¹¶è¡ŒåŒ–çš„é—®é¢˜äº†ï¼")]),t._v(" "),s("h3",{attrs:{id:"_4è¿›é˜¶é—®é¢˜-è¿™å››ç§éš”ç¦»çº§åˆ«å…·ä½“æ˜¯å¦‚ä½•å®ç°çš„å‘¢"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4è¿›é˜¶é—®é¢˜-è¿™å››ç§éš”ç¦»çº§åˆ«å…·ä½“æ˜¯å¦‚ä½•å®ç°çš„å‘¢"}},[t._v("#")]),t._v(" 4è¿›é˜¶é—®é¢˜-è¿™å››ç§éš”ç¦»çº§åˆ«å…·ä½“æ˜¯å¦‚ä½•å®ç°çš„å‘¢ï¼Ÿ")]),t._v(" "),s("p",[t._v("ï¼ˆeasyï¼‰å¯¹äºã€Œè¯»æœªæäº¤ã€éš”ç¦»çº§åˆ«çš„äº‹åŠ¡æ¥è¯´ï¼Œå› ä¸º"),s("strong",[t._v("å¯ä»¥è¯»åˆ°æœªæäº¤äº‹åŠ¡ä¿®æ”¹çš„æ•°æ®")]),t._v("ï¼Œæ‰€ä»¥"),s("strong",[t._v("ç›´æ¥ã€Œé©¬ä¸åœè¹„çš„ã€è¯»å–æœ€æ–°çš„æ•°æ®")]),t._v("å°±å¥½äº†ï¼›")]),t._v(" "),s("p",[t._v("â€‹\tå¯¹äºã€Œè¯»æäº¤ã€å’Œã€Œå¯é‡å¤è¯»ã€éš”ç¦»çº§åˆ«çš„äº‹åŠ¡æ¥è¯´ï¼Œå®ƒä»¬æ˜¯é€šè¿‡ "),s("strong",[s("font",{staticStyle:{background:"yellow"}},[t._v("Read View ï¼ˆè¯»å–è§†å›¾ï¼Œå¤§æ¦‚æ„æ€å°±æ˜¯å½“å‰æƒ…å†µåˆ›å»º1ä¸ªè¯•å›¾ï¼‰")]),t._v("æ¥å®ç°çš„ï¼Œå®ƒä»¬çš„åŒºåˆ«åœ¨äº"),s("font",{staticStyle:{background:"yellow"}},[t._v("åˆ›å»º Read View çš„æ—¶æœºä¸åŒ")]),t._v("ï¼Œå¤§å®¶å¯ä»¥æŠŠ Read View ç†è§£æˆä¸€ä¸ªæ•°æ®å¿«ç…§ï¼Œå°±åƒç›¸æœºæ‹ç…§é‚£æ ·ï¼Œå®šæ ¼æŸä¸€æ—¶åˆ»çš„é£æ™¯ã€‚")],1)]),t._v(" "),s("ul",[s("li",[t._v("ã€Œè¯»æäº¤ã€éš”ç¦»çº§åˆ«æ˜¯åœ¨ã€Œæ¯ä¸ªè¯­å¥"),s("font",{staticStyle:{background:"yellow"}},[t._v("æ‰§è¡Œå‰")]),t._v("ã€éƒ½ä¼šé‡æ–°ç”Ÿæˆä¸€ä¸ª Read View")],1),t._v(" "),s("li",[t._v("è€Œã€Œå¯é‡å¤è¯»ã€éš”ç¦»çº§åˆ«æ˜¯ã€Œ"),s("font",{staticStyle:{background:"yellow"}},[t._v("å¯åŠ¨äº‹åŠ¡æ—¶")]),t._v("ã€ç”Ÿæˆä¸€ä¸ª Read Viewï¼Œç„¶åæ•´ä¸ªäº‹åŠ¡æœŸé—´éƒ½åœ¨ç”¨è¿™ä¸ª Read Viewã€‚")],1)]),t._v(" "),s("p",[t._v("æ³¨æ„ï¼Œ"),s("strong",[t._v("æ‰§è¡Œã€Œå¼€å§‹äº‹åŠ¡ã€å‘½ä»¤ï¼Œå¹¶ä¸æ„å‘³ç€å¯åŠ¨äº†äº‹åŠ¡")]),t._v("ã€‚åœ¨ MySQL æœ‰ä¸¤ç§å¼€å¯äº‹åŠ¡çš„å‘½ä»¤ï¼Œåˆ†åˆ«æ˜¯ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("ç¬¬ä¸€ç§ï¼š"),s("code",[t._v("begin/start transaction")]),t._v(" å‘½ä»¤ï¼›")]),t._v(" "),s("li",[t._v("ç¬¬äºŒç§ï¼š"),s("code",[t._v("start transaction with consistent snapshot")]),t._v(" å‘½ä»¤ï¼›\n"),s("ul",[s("li",[s("font",{staticStyle:{background:"yellow"}},[t._v("consistent snapshot, ä¸€è‡´æ€§å¿«ç…§")])],1)])])]),t._v(" "),s("p",[t._v("è¿™ä¸¤ç§å¼€å¯äº‹åŠ¡çš„å‘½ä»¤ï¼Œäº‹åŠ¡çš„å¯åŠ¨æ—¶æœºæ˜¯ä¸åŒçš„ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("æ‰§è¡Œäº† "),s("code",[t._v("begin/start transaction")]),t._v(" å‘½ä»¤åï¼Œå¹¶"),s("strong",[t._v("ä¸ä»£è¡¨äº‹åŠ¡å¯åŠ¨äº†")]),t._v("ã€‚åªæœ‰åœ¨æ‰§è¡Œè¿™ä¸ªå‘½ä»¤åï¼Œæ‰§è¡Œäº†å¢åˆ æŸ¥æ”¹æ“ä½œçš„ SQL è¯­å¥ï¼Œæ‰æ˜¯äº‹åŠ¡çœŸæ­£å¯åŠ¨çš„æ—¶æœºï¼›")]),t._v(" "),s("li",[t._v("æ‰§è¡Œäº† "),s("code",[t._v("start transaction with consistent snapsho")]),t._v("t å‘½ä»¤ï¼Œå°±ä¼š"),s("font",{staticStyle:{background:"yellow"}},[t._v("é©¬ä¸Šå¯åŠ¨äº‹åŠ¡")]),t._v("ã€‚")],1)]),t._v(" "),s("p",[t._v("ï¼ˆeasyï¼‰å¯¹äºã€Œä¸²è¡ŒåŒ–ã€éš”ç¦»çº§åˆ«çš„äº‹åŠ¡æ¥è¯´ï¼Œé€šè¿‡"),s("strong",[t._v("åŠ è¯»å†™é”çš„æ–¹å¼")]),t._v("æ¥é¿å…å¹¶è¡Œè®¿é—®ï¼›")]),t._v(" "),s("h3",{attrs:{id:"_4-2-è¯·ä½ ä»‹ç»ä¸€ä¸‹mysqlçš„mvccæœºåˆ¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-è¯·ä½ ä»‹ç»ä¸€ä¸‹mysqlçš„mvccæœºåˆ¶"}},[t._v("#")]),t._v(" 4.2.è¯·ä½ ä»‹ç»ä¸€ä¸‹mysqlçš„MVCCæœºåˆ¶")]),t._v(" "),s("p",[t._v("3ä¸ªæ„æˆï¼")]),t._v(" "),s("p",[t._v("ç‰ˆæœ¬é“¾")]),t._v(" "),s("p",[t._v("undo-logoï¼ˆç‰ˆæœ¬æŒ‡é’ˆï¼‰")]),t._v(" "),s("p",[t._v("read view")]),t._v(" "),s("p",[t._v("â€‹\t"),s("strong",[t._v("MVCCï¼ˆMulti-Version Concurrency Controlï¼Œå¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ï¼‰")]),t._v("ï¼ŒMVCCæ˜¯ä¸€ç§å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶æœºåˆ¶æ˜¯MySQLçš„"),s("strong",[t._v("InnoDBå­˜å‚¨å¼•æ“")]),s("font",{staticStyle:{background:"yellow"}},[t._v("å®ç°")]),s("strong",[t._v("éš”ç¦»çº§åˆ«")]),t._v("çš„ä¸€ç§å…·ä½“æ–¹å¼ï¼Œç”¨äºå®ç°"),s("strong",[t._v("è¯»å·²æäº¤è¯»")]),t._v("å’Œ"),s("strong",[t._v("å¯é‡å¤è¯»")]),t._v("è¿™ä¸¤ç§éš”ç¦»çº§åˆ«ã€‚")],1),t._v(" "),s("p",[t._v("â€‹\tMVCCæ˜¯é€šè¿‡ä¿å­˜æ•°æ®åœ¨æŸä¸ªæ—¶é—´ç‚¹çš„"),s("strong",[t._v("å¿«ç…§")]),t._v("æ¥å®ç°è¯¥æœºåˆ¶ï¼Œå…¶åœ¨æ¯è¡Œè®°å½•åé¢ä¿å­˜ä¸¤ä¸ª"),s("strong",[t._v("éšè—çš„åˆ—")]),t._v("ï¼Œåˆ†åˆ«ä¿å­˜è¿™ä¸ªè¡Œçš„åˆ›å»ºç‰ˆæœ¬å·å’Œåˆ é™¤ç‰ˆæœ¬å·ï¼Œç„¶åInnodbçš„MVCCä½¿ç”¨åˆ°çš„å¿«ç…§å­˜å‚¨åœ¨Undoæ—¥å¿—ä¸­ï¼Œè¯¥æ—¥å¿—é€šè¿‡å›æ»šæŒ‡é’ˆæŠŠä¸€ä¸ªæ•°æ®è¡Œæ‰€æœ‰å¿«ç…§è¿æ¥èµ·æ¥ã€‚")]),t._v(" "),s("h3",{attrs:{id:"_4-3-è¯·é—®sqlä¼˜åŒ–æ–¹æ³•æœ‰å“ªäº›"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-è¯·é—®sqlä¼˜åŒ–æ–¹æ³•æœ‰å“ªäº›"}},[t._v("#")]),t._v(" 4.3.è¯·é—®SQLä¼˜åŒ–æ–¹æ³•æœ‰å“ªäº›")]),t._v(" "),s("ul",[s("li",[t._v("1ã€é€šè¿‡"),s("strong",[t._v("å»ºç«‹ç´¢å¼•")]),t._v("å¯¹æŸ¥è¯¢è¿›è¡Œä¼˜åŒ–")]),t._v(" "),s("li",[t._v("2ã€å¯¹"),s("strong",[t._v("æŸ¥è¯¢è¿›è¡Œä¼˜åŒ–")]),t._v("ï¼Œåº”å°½é‡é¿å…å…¨è¡¨æ‰«æã€æˆ–è®¸è¿™å°±æ˜¯æˆ‘ä»¬æ¯ä¸ªäººå†™SQLè¯­å¥è¿˜åˆ†çº§åˆ«çš„åœ°æ–¹ã€")])]),t._v(" "),s("h3",{attrs:{id:"_4-4-è¯´ä¸€ä¸‹mysqlå¼•æ“çš„æ¦‚å¿µå’Œåˆ†ç±»"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-è¯´ä¸€ä¸‹mysqlå¼•æ“çš„æ¦‚å¿µå’Œåˆ†ç±»"}},[t._v("#")]),t._v(" 4.4.è¯´ä¸€ä¸‹MySQLå¼•æ“çš„æ¦‚å¿µå’Œåˆ†ç±»")]),t._v(" "),s("blockquote",[s("p",[t._v("MySQLå¼•æ“")])]),t._v(" "),s("p",[t._v("MySQLä¸­çš„æ•°æ®ç”¨"),s("strong",[t._v("å„ç§ä¸åŒçš„æŠ€æœ¯")]),t._v("å­˜å‚¨åœ¨æ–‡ä»¶ï¼ˆæˆ–è€…å†…å­˜ï¼‰ä¸­ã€‚è¿™äº›æŠ€æœ¯ä¸­çš„æ¯ä¸€ç§æŠ€æœ¯éƒ½ä½¿ç”¨ä¸åŒçš„å­˜å‚¨æœºåˆ¶ã€ç´¢å¼•æŠ€å·§ã€é”å®šæ°´å¹³å¹¶ä¸”æœ€ç»ˆæä¾›å¹¿æ³›çš„ä¸åŒçš„åŠŸèƒ½å’Œèƒ½åŠ›ã€‚é€šè¿‡é€‰æ‹©ä¸åŒçš„æŠ€æœ¯ï¼Œä½ èƒ½å¤Ÿè·å¾—é¢å¤–çš„é€Ÿåº¦æˆ–è€…åŠŸèƒ½ï¼Œä»è€Œæ”¹å–„ä½ çš„åº”ç”¨çš„æ•´ä½“åŠŸèƒ½ã€‚")]),t._v(" "),s("p",[t._v("æ•°æ®åº“å¼•æ“æ˜¯ç”¨äºå­˜å‚¨ã€å¤„ç†å’Œä¿æŠ¤æ•°æ®çš„æ ¸å¿ƒæœåŠ¡ã€‚åˆ©ç”¨æ•°æ®åº“å¼•æ“å¯æ§åˆ¶è®¿é—®æƒé™å¹¶å¿«é€Ÿå¤„ç†äº‹åŠ¡ï¼Œä»è€Œæ»¡è¶³ä¼ä¸šå†…å¤§å¤šæ•°éœ€è¦å¤„ç†å¤§é‡æ•°æ®çš„åº”ç”¨ç¨‹åºçš„è¦æ±‚ã€‚ä½¿ç”¨æ•°æ®åº“å¼•æ“åˆ›å»ºç”¨äºè”æœºäº‹åŠ¡å¤„ç†æˆ–è”æœºåˆ†æå¤„ç†æ•°æ®çš„å…³ç³»æ•°æ®åº“ã€‚è¿™åŒ…æ‹¬åˆ›å»ºç”¨äºå­˜å‚¨æ•°æ®çš„è¡¨å’Œç”¨äºæŸ¥çœ‹ã€ç®¡ç†å’Œä¿æŠ¤æ•°æ®å®‰å…¨çš„æ•°æ®åº“å¯¹è±¡ï¼ˆå¦‚ç´¢å¼•ã€è§†å›¾å’Œå­˜å‚¨è¿‡ç¨‹ï¼‰ã€‚")]),t._v(" "),s("p",[t._v("MySQLå­˜å‚¨å¼•æ“ä¸»è¦æœ‰ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("MyIsam")]),t._v(" "),s("li",[t._v("InnoDB")]),t._v(" "),s("li",[t._v("Memoryã€Blackholeã€CSVã€Performance_Schemaã€Archiveã€Federatedã€Mrg_Myisamã€‚")])]),t._v(" "),s("p",[t._v("ä½†æ˜¯æœ€å¸¸ç”¨çš„æ˜¯InnoDBå’ŒMylsamã€‚")]),t._v(" "),s("h3",{attrs:{id:"_4-5-è¯´ä¸€ä¸‹æœ€å¸¸ç”¨çš„2ä¸ªmysqlå¼•æ“innodbå’Œmylsamçš„å¯¹æ¯”"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-5-è¯´ä¸€ä¸‹æœ€å¸¸ç”¨çš„2ä¸ªmysqlå¼•æ“innodbå’Œmylsamçš„å¯¹æ¯”"}},[t._v("#")]),t._v(" 4.5.è¯´ä¸€ä¸‹æœ€å¸¸ç”¨çš„2ä¸ªMySQLå¼•æ“InnoDBå’ŒMylsamçš„å¯¹æ¯”")]),t._v(" "),s("h4",{attrs:{id:"_1ã€mylsam"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€mylsam"}},[t._v("#")]),t._v(" 1ã€Mylsam")]),t._v(" "),s("p",[t._v("MyIASMæ˜¯MySQL"),s("font",{staticStyle:{background:"yellow"}},[t._v("é»˜è®¤")]),t._v("çš„å¼•æ“ï¼Œä½†æ˜¯"),s("font",{staticStyle:{background:"yellow"}},[t._v("å®ƒæ²¡æœ‰æä¾›å¯¹æ•°æ®åº“äº‹åŠ¡çš„æ”¯æŒ")]),t._v("ï¼Œä¹Ÿä¸æ”¯æŒè¡Œçº§é”å’Œå¤–é”®ï¼Œå› æ­¤å½“INSERTæˆ–UPDATEæ•°æ®æ—¶å³å†™æ“ä½œéœ€è¦"),s("strong",[t._v("é”å®šæ•´ä¸ªè¡¨")]),t._v("ï¼Œæ•ˆç‡ä¾¿ä¼šä½ä¸€äº›ã€‚")],1),t._v(" "),s("p",[t._v("MyIsam å­˜å‚¨å¼•æ“ç‹¬ç«‹äºæ“ä½œç³»ç»Ÿï¼Œä¹Ÿå°±æ˜¯å¯ä»¥åœ¨windowsä¸Šä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥æ¯”è¾ƒç®€å•çš„å°†æ•°æ®è½¬ç§»åˆ°linuxæ“ä½œç³»ç»Ÿä¸Šå»ã€‚")]),t._v(" "),s("p",[s("strong",[t._v("é€‚ç”¨åœºæ™¯")]),t._v("ï¼š")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("ä¸æ”¯æŒäº‹åŠ¡çš„è®¾è®¡ï¼Œä½†æ˜¯å¹¶ä¸ä»£è¡¨ç€æœ‰äº‹åŠ¡æ“ä½œçš„é¡¹ç›®ä¸èƒ½ç”¨MyIsamå­˜å‚¨å¼•æ“ï¼Œå¯ä»¥åœ¨serviceå±‚è¿›è¡Œæ ¹æ®è‡ªå·±çš„ä¸šåŠ¡éœ€æ±‚è¿›è¡Œç›¸åº”çš„æ§åˆ¶ã€‚")])]),t._v(" "),s("li",[s("p",[t._v("ä¸æ”¯æŒå¤–é”®çš„è¡¨è®¾è®¡ã€‚")])]),t._v(" "),s("li",[s("p",[t._v("æŸ¥è¯¢é€Ÿåº¦å¾ˆå¿«ï¼Œå¦‚æœæ•°æ®åº“insertå’Œupdateçš„æ“ä½œæ¯”è¾ƒå¤šçš„è¯æ¯”è¾ƒé€‚ç”¨ã€‚")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("æ•´å¤©å¯¹è¡¨è¿›è¡ŒåŠ é”")]),t._v("çš„åœºæ™¯ã€‚")])]),t._v(" "),s("li",[s("p",[t._v("MyISAMæåº¦å¼ºè°ƒå¿«é€Ÿè¯»å–æ“ä½œã€‚")])]),t._v(" "),s("li",[s("p",[t._v("MyIASMä¸­å­˜å‚¨äº†è¡¨çš„è¡Œæ•°ï¼Œäºæ˜¯"),s("code",[t._v("SELECT COUNT(*) FROM TABLE")]),t._v("æ—¶åªéœ€è¦ç›´æ¥è¯»å–å·²ç»ä¿å­˜å¥½çš„å€¼è€Œä¸éœ€è¦è¿›è¡Œå…¨è¡¨æ‰«æã€‚å¦‚æœè¡¨çš„è¯»æ“ä½œè¿œè¿œå¤šäºå†™æ“ä½œä¸”ä¸éœ€è¦æ•°æ®åº“äº‹åŠ¡çš„æ”¯æŒï¼Œé‚£ä¹ˆMyIASMä¹Ÿæ˜¯å¾ˆå¥½çš„é€‰æ‹©ã€‚")])])]),t._v(" "),s("p",[s("strong",[t._v("ç¼ºç‚¹")]),t._v("ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("å°±æ˜¯ä¸èƒ½åœ¨è¡¨æŸååä¸»åŠ¨æ¢å¤æ•°æ®ã€‚")])]),t._v(" "),s("p",[s("strong",[t._v("ç´¢å¼•ç»“æ„")]),t._v("ï¼š")]),t._v(" "),s("p",[t._v("MyISAMç´¢å¼•ç”¨çš„"),s("strong",[t._v("B+ tree")]),t._v("æ¥å‚¨å­˜æ•°æ®ï¼ŒMyISAMç´¢å¼•çš„æŒ‡é’ˆæŒ‡å‘çš„æ˜¯é”®å€¼çš„åœ°å€ï¼Œåœ°å€å­˜å‚¨çš„æ˜¯æ•°æ®ã€‚B+Treeçš„æ•°æ®åŸŸå­˜å‚¨çš„å†…å®¹ä¸ºå®é™…æ•°æ®çš„åœ°å€ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒçš„ç´¢å¼•å’Œå®é™…çš„æ•°æ®æ˜¯åˆ†å¼€çš„ï¼Œåªä¸è¿‡æ˜¯ç”¨ç´¢å¼•æŒ‡å‘äº†å®é™…çš„æ•°æ®ï¼Œè¿™ç§ç´¢å¼•å°±æ˜¯æ‰€è°“çš„"),s("strong",[t._v("éèšé›†ç´¢å¼•")]),t._v("ã€‚")]),t._v(" "),s("h4",{attrs:{id:"_2ã€innodb"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2ã€innodb"}},[t._v("#")]),t._v(" 2ã€InnoDB")]),t._v(" "),s("p",[t._v("InnoDBæ˜¯ä¸€ä¸ª"),s("strong",[t._v("äº‹åŠ¡å‹")]),t._v("çš„å­˜å‚¨å¼•æ“ï¼Œæœ‰è¡Œçº§é”å®šå’Œå¤–é”®çº¦æŸã€‚")]),t._v(" "),s("p",[t._v("Innodbå¼•æ“æä¾›äº†å¯¹æ•°æ®åº“ACIDäº‹åŠ¡çš„æ”¯æŒï¼Œå¹¶ä¸”å®ç°äº†SQLæ ‡å‡†çš„å››ç§éš”ç¦»çº§åˆ«ï¼Œå…³äºæ•°æ®åº“äº‹åŠ¡ä¸å…¶éš”ç¦»çº§åˆ«çš„å†…å®¹è¯·è§æ•°æ®åº“äº‹åŠ¡ä¸å…¶éš”ç¦»çº§åˆ«è¿™ç±»å‹çš„æ–‡ç« ã€‚è¯¥å¼•æ“è¿˜æä¾›äº†è¡Œçº§é”å’Œå¤–é”®çº¦æŸ")]),t._v(" "),s("p",[t._v("å®ƒçš„è®¾è®¡ç›®æ ‡æ˜¯"),s("strong",[t._v("å¤„ç†å¤§å®¹é‡æ•°æ®åº“ç³»ç»Ÿ")]),t._v("ï¼Œå®ƒæœ¬èº«å…¶å®å°±æ˜¯åŸºäºMySQLåå°çš„å®Œæ•´æ•°æ®åº“ç³»ç»Ÿï¼ŒMySQLè¿è¡Œæ—¶Innodbä¼šåœ¨"),s("strong",[t._v("å†…å­˜")]),t._v("ä¸­å»ºç«‹ç¼“å†²æ± ï¼Œç”¨äºç¼“å†²æ•°æ®å’Œç´¢å¼•ã€‚ä½†æ˜¯è¯¥å¼•æ“ä¸æ”¯æŒFULLTEXTç±»å‹çš„ç´¢å¼•ï¼Œè€Œä¸”å®ƒæ²¡æœ‰ä¿å­˜è¡¨çš„è¡Œæ•°ï¼Œå½“"),s("code",[t._v("SELECT COUNT(*) FROM TABLE")]),t._v("æ—¶éœ€è¦æ‰«æå…¨è¡¨ã€‚å½“éœ€è¦ä½¿ç”¨æ•°æ®åº“äº‹åŠ¡æ—¶ï¼Œè¯¥å¼•æ“å½“ç„¶æ˜¯é¦–é€‰ã€‚ç”±äºé”çš„ç²’åº¦æ›´å°ï¼Œå†™æ“ä½œä¸ä¼šé”å®šå…¨è¡¨ï¼Œæ‰€ä»¥åœ¨å¹¶å‘è¾ƒé«˜æ—¶ï¼Œä½¿ç”¨Innodbå¼•æ“ä¼šæå‡æ•ˆç‡ã€‚ä½†æ˜¯ä½¿ç”¨è¡Œçº§é”ä¹Ÿä¸æ˜¯ç»å¯¹çš„ï¼Œå¦‚æœåœ¨æ‰§è¡Œä¸€ä¸ªSQLè¯­å¥æ—¶MySQLä¸èƒ½ç¡®å®šè¦æ‰«æçš„èŒƒå›´ï¼ŒInnoDBè¡¨åŒæ ·ä¼šé”å…¨è¡¨ã€‚")]),t._v(" "),s("p",[s("strong",[t._v("é€‚ç”¨åœºæ™¯")]),t._v("ï¼š")]),t._v(" "),s("ul",[s("li",[s("p",[s("strong",[t._v("ç»å¸¸æ›´æ–°çš„è¡¨")]),t._v("ï¼Œé€‚åˆå¤„ç†å¤šé‡å¹¶å‘çš„æ›´æ–°è¯·æ±‚ã€‚")])]),t._v(" "),s("li",[s("p",[t._v("æ”¯æŒäº‹åŠ¡ã€‚")])]),t._v(" "),s("li",[s("p",[t._v("å¯ä»¥ä»ç¾éš¾ä¸­æ¢å¤ï¼ˆé€šè¿‡bin-logæ—¥å¿—ç­‰ï¼‰ã€‚")])]),t._v(" "),s("li",[s("p",[t._v("å¤–é”®çº¦æŸã€‚åªæœ‰ä»–æ”¯æŒå¤–é”®ã€‚")])]),t._v(" "),s("li",[s("p",[t._v("æ”¯æŒè‡ªåŠ¨å¢åŠ åˆ—å±æ€§auto_incrementã€‚")])])]),t._v(" "),s("p",[s("strong",[t._v("ç´¢å¼•ç»“æ„")]),t._v("ï¼š")]),t._v(" "),s("p",[t._v("InnoDBä¹Ÿæ˜¯"),s("strong",[t._v("B+Tree")]),t._v("ç´¢å¼•ç»“æ„ã€‚Innodbçš„ç´¢å¼•æ–‡ä»¶æœ¬èº«å°±æ˜¯æ•°æ®æ–‡ä»¶ï¼Œå³B+Treeçš„æ•°æ®åŸŸå­˜å‚¨çš„å°±æ˜¯å®é™…çš„æ•°æ®ï¼Œè¿™ç§ç´¢å¼•å°±æ˜¯"),s("strong",[t._v("èšé›†ç´¢å¼•")]),t._v("ã€‚è¿™ä¸ªç´¢å¼•çš„keyå°±æ˜¯æ•°æ®è¡¨çš„ä¸»é”®ï¼Œå› æ­¤InnoDBè¡¨æ•°æ®æ–‡ä»¶æœ¬èº«å°±æ˜¯ä¸»ç´¢å¼•ã€‚")]),t._v(" "),s("p",[t._v("InnoDBçš„è¾…åŠ©ç´¢å¼•æ•°æ®åŸŸå­˜å‚¨çš„ä¹Ÿæ˜¯ç›¸åº”è®°å½•ä¸»é”®çš„å€¼è€Œä¸æ˜¯åœ°å€ï¼Œæ‰€ä»¥å½“ä»¥è¾…åŠ©ç´¢å¼•æŸ¥æ‰¾æ—¶ï¼Œä¼šå…ˆæ ¹æ®è¾…åŠ©ç´¢å¼•æ‰¾åˆ°ä¸»é”®ï¼Œå†æ ¹æ®ä¸»é”®ç´¢å¼•æ‰¾åˆ°å®é™…çš„æ•°æ®ã€‚æ‰€ä»¥Innodbä¸å»ºè®®ä½¿ç”¨è¿‡é•¿çš„ä¸»é”®ï¼Œå¦åˆ™ä¼šä½¿è¾…åŠ©ç´¢å¼•å˜å¾—è¿‡å¤§ã€‚å»ºè®®ä½¿ç”¨è‡ªå¢çš„å­—æ®µä½œä¸ºä¸»é”®ï¼Œè¿™æ ·B+Treeçš„æ¯ä¸€ä¸ªç»“ç‚¹éƒ½ä¼šè¢«é¡ºåºçš„å¡«æ»¡ï¼Œè€Œä¸ä¼šé¢‘ç¹çš„åˆ†è£‚è°ƒæ•´ï¼Œä¼šæœ‰æ•ˆçš„æå‡æ’å…¥æ•°æ®çš„æ•ˆç‡ã€‚")]),t._v(" "),s("h3",{attrs:{id:"æœ€å·¦åŒ¹é…åŸåˆ™çš„åŸç†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æœ€å·¦åŒ¹é…åŸåˆ™çš„åŸç†"}},[t._v("#")]),t._v(" æœ€å·¦åŒ¹é…åŸåˆ™çš„åŸç†")]),t._v(" "),s("p",[t._v("â€‹\tæœ€å·¦åŒ¹é…åŸåˆ™éƒ½æ˜¯é’ˆå¯¹"),s("strong",[t._v("è”åˆç´¢å¼•")]),t._v("æ¥è¯´çš„ï¼Œæœ€å·¦åŒ¹é…åŸåˆ™å°±æ˜¯æŒ‡åœ¨è”åˆç´¢å¼•ä¸­ï¼Œå¦‚æœä½ çš„ SQL è¯­å¥ä¸­ç”¨åˆ°äº†è”åˆç´¢å¼•ä¸­çš„"),s("strong",[t._v("æœ€å·¦è¾¹çš„ç´¢å¼•")]),t._v("ï¼Œé‚£ä¹ˆè¿™æ¡ SQL è¯­å¥å°±å¯ä»¥åˆ©ç”¨è¿™ä¸ªè”åˆç´¢å¼•å»è¿›è¡ŒåŒ¹é…ã€‚ä¾‹å¦‚æŸè¡¨ç°æœ‰ç´¢å¼•(a,b,c)ï¼Œç°åœ¨ä½ æœ‰å¦‚ä¸‹è¯­å¥ï¼š")]),t._v(" "),s("div",{staticClass:"language-sql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" t "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" a"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("and")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("and")]),t._v(" c "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#è¿™æ ·å¯ä»¥åˆ©ç”¨åˆ°å®šä¹‰çš„ç´¢å¼•ï¼ˆa,b,cï¼‰,ç”¨ä¸Ša,b,c")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" t "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" a"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("and")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("     \t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#è¿™æ ·å¯ä»¥åˆ©ç”¨åˆ°å®šä¹‰çš„ç´¢å¼•ï¼ˆa,b,cï¼‰,ç”¨ä¸Ša,b")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" t "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("and")]),t._v(" a"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("     \t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#è¿™æ ·â­å¯ä»¥â­åˆ©ç”¨åˆ°å®šä¹‰çš„ç´¢å¼•ï¼ˆa,b,cï¼‰,ç”¨ä¸Ša,cï¼ˆmysqlæœ‰æŸ¥è¯¢ä¼˜åŒ–å™¨ï¼‰")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" t "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" a"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("     \t\t\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#è¿™æ ·ä¹Ÿå¯ä»¥åˆ©ç”¨åˆ°å®šä¹‰çš„ç´¢å¼•ï¼ˆa,b,cï¼‰,ç”¨ä¸Ša")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" t "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("and")]),t._v(" c"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#è¿™æ ·â­ä¸å¯ä»¥â­åˆ©ç”¨åˆ°å®šä¹‰çš„ç´¢å¼•ï¼ˆa,b,cï¼‰")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" t "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" a"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("and")]),t._v(" c"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#è¿™æ ·å¯ä»¥åˆ©ç”¨åˆ°å®šä¹‰çš„ç´¢å¼•ï¼ˆa,b,cï¼‰ï¼Œâ­ä½†åªç”¨ä¸Šaç´¢å¼•â­ï¼Œb,cç´¢å¼•ç”¨ä¸åˆ°")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br")])]),s("ul",[s("li",[t._v("æ˜¾ç„¶ï¼Œè”åˆç´¢å¼•éæœ€å·¦åŒ¹é…è¿˜ä¼šå¯¼è‡´"),s("strong",[t._v("ç´¢å¼•å¤±æ•ˆ")])])]),t._v(" "),s("h2",{attrs:{id:"é™„å½•-æ­å»ºmysqlå­¦ä¹ ç¯å¢ƒ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é™„å½•-æ­å»ºmysqlå­¦ä¹ ç¯å¢ƒ"}},[t._v("#")]),t._v(" é™„å½•-æ­å»ºmysqlå­¦ä¹ ç¯å¢ƒ")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("mysql"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" @@basedir"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  //å®‰è£…ç›®å½•\n+-----------+\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" @@basedir "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+-----------+\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" /usr/     "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+-----------+\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" row "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.00")]),t._v(" sec"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nmysql"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" @@datadir"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  //æ•°æ®ç›®å½•\n+-----------------+\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" @@datadir       "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+-----------------+\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" /var/lib/mysql/ "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+-----------------+\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" row "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.00")]),t._v(" sec"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br")])]),s("h2",{attrs:{id:"å‚çœ‹èµ„æ–™"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å‚çœ‹èµ„æ–™"}},[t._v("#")]),t._v(" å‚çœ‹èµ„æ–™")]),t._v(" "),s("ul",[s("li",[t._v("å“”å“©å“”å“©ï¼Œ"),s("a",{attrs:{href:"https://www.bilibili.com/video/BV15Y4y1i78Y?p=3&spm_id_from=pageDriver&vd_source=ea20f1fccee6fd3f1af7d59cd3ae7575",target:"_blank",rel:"noopener noreferrer"}},[t._v("MySQLæŠ€æœ¯å†…å¹•-InnoDBå­˜å‚¨å¼•æ“"),s("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=_.exports}}]);